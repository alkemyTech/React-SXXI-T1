"use strict";(self.webpackChunkong_client=self.webpackChunkong_client||[]).push([[749],{5832:function(e,n,t){t.d(n,{Z:function(){return m}});var r,a=t(168),i=t(2469),o=t(6444),s=t(7847),c=t(362),l=t(2156),d=(0,o.ZP)(i.Z)(r||(r=(0,a.Z)(["\n  ",";\n  font-weight: bold !important;\n  background-color: ",";\n  color: ","!important;\n  border: 1px solid ",";\n  text-align: center;\n\n  ","\n"])),l.oD,(function(e){var n=e.background;return(0,s.N3)(n)}),(function(e){var n=e.color;return(0,s.O9)(n)}),(function(e){var n=e.color;return(0,s.ZY)(n)}),c.J),u=t(184),m=function(e){var n=e.alertClass,t=e.text,r=e.background,a=void 0===r?"default":r,i=e.color,o=void 0===i?"default":i;return(0,u.jsx)(d,{className:n+" my-5",background:a,color:o,children:t})}},2097:function(e,n,t){t.d(n,{F:function(){return h},SK:function(){return Z},_t:function(){return b},bR:function(){return g},eW:function(){return v},iR:function(){return j},uI:function(){return S}});var r,a,i,o,s,c,l=t(168),d=t(9140),u=t(6444),m=t(362),x=t(7852),f=t(2156),h={veryDarkBlue:"hsl(232, 19%, 15%)",darkDesaturatedBlue:"hsl(228, 28%, 20%)",blue:"hsl(208, 92%, 53%)",lightBlue:"hsl(203, 89%, 53%)",betweenBlueGreed:"hsla(187, 97%, 29%, 1)",LimeGreen:"hsl(163, 72%, 41%)",golden:"#CDA156",gray:"hsl(230, 22%, 74%)",lightGray:"hsl(216, 0%, 71%)"},p={default:{background:x.l.white,color:h.darkDesaturatedBlue,border:h.betweenBlueGreed},blue:{background:h.blue,color:x.l.white,border:h.lightBlue},gold:{background:h.golden,color:h.veryDarkBlue,border:h.darkDesaturatedBlue},green:{background:h.betweenBlueGreed,color:x.l.white,border:h.LimeGreen}},g=(0,u.iv)(r||(r=(0,l.Z)(["\n  background: ",";\n  color: "," !important;\n"])),(function(e){return p[e.type].background}),(function(e){return p[e.type].color})),b=(0,u.ZP)(d.Z)(a||(a=(0,l.Z)(["\n  ",";\n  border: 1px solid ",";\n  outline: 1px solid ",";\n  filter: drop-shadow(0px -5px 5px ",");\n  transition: 0.5s;\n\n  ","\n\n  &:hover {\n    filter: drop-shadow(0px 6px 6px ",");\n    background: hsla(194, 74%, 41%, 1);\n    outline: 1px solid hsla(194, 74%, 41%, 1);\n\n    p,\n    ol,\n    li,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      background: hsla(194, 74%, 41%, 1);\n    }\n  }\n"])),g,(function(e){return p[e.type].border}),(function(e){return p[e.type].border}),h.veryDarkBlue,m.J,h.veryDarkBlue),v=u.ZP.div(i||(i=(0,l.Z)(["\n  transition: 0.5s;\n  ","\n"])),m.J),j=u.ZP.div(o||(o=(0,l.Z)(["\n  transition: 0.5s;\n  ","\n"])),m.J),S=(0,u.ZP)(f.tt)(s||(s=(0,l.Z)(["\n  color: ",";\n  transition: 0.5s;\n"])),(function(e){return p[e.type].color})),Z=(0,u.ZP)(f.Dp)(c||(c=(0,l.Z)(["\n  color: ",";\n  transition: 0.5s;\n"])),(function(e){return p[e.type].color}))},811:function(e,n,t){t.d(n,{M:function(){return m}});var r,a=t(885),i=t(2791),o=t(5630),s=t(168),c=t(6444),l=t(2156),d=(0,c.ZP)(o.Z.Control)(r||(r=(0,s.Z)(["\n  ","\n"])),l.oD),u=t(184),m=function(e){var n=e.searchText,t=e.placeholder,r=void 0===t?"":t,s=e.debounceDelay,c=void 0===s?500:s,l=e.onSearch,m=e.onChangeText,x=e.disabled,f=(0,i.useState)(""),h=(0,a.Z)(f,2),p=h[0],g=h[1],b=function(e,n){var t=(0,i.useState)(e),r=(0,a.Z)(t,2),o=r[0],s=r[1];return(0,i.useEffect)((function(){var t=setTimeout((function(){s(e)}),n);return function(){clearTimeout(t)}}),[e,n]),o}(n,c);(0,i.useEffect)((function(){b===n&&n!==p&&(n.trim().length>0||p.trim().length>0)&&(g(n),l())}),[b,l,n,p]);return(0,u.jsx)(o.Z.Group,{children:(0,u.jsx)(d,{type:"text",placeholder:r,value:n,onChange:function(e){m(e.target.value)},disabled:x})})}},5825:function(e,n,t){t.d(n,{h:function(){return r}});var r=t(1044).ZP.create({baseURL:"https://ongapi.alkemy.org/api",timeout:5e3})},1004:function(e,n,t){function r(e){return new URLSearchParams(e).toString()}t.d(n,{b:function(){return r}})},5794:function(e,n,t){t.d(n,{K:function(){return r}});var r={category_id:{required:"El campo categor\xeda id es obligatorio"},content:{required:"El campo contenido es obligatorio"},description:{required:"El campo descripci\xf3n es obligatorio",fieldLength:"El campo descripci\xf3n debe contener como maximo 255 caracteres"},due_date:{required:"El campo es obligatorio"},email:{required:"El campo email es obligatorio",format:"El campo email debe tener un formato de email v\xe1lido"},fullname:{required:"El campo nombre es obligatorio",format:"El campo nombre solo puede contener letras"},image:{required:"El campo imagen es obligatorio",format:"El formato debe ser png o jpg",fieldSize:"La imagen debe tener menos de 2MB"},message:{required:"El campo mensaje es obligatorio"},name:{required:"El campo nombre es obligatorio",fieldLength:"El campo nombre debe contener al menos 4 caracteres",format:"El campo nombre solo puede contener letras"},order:{required:"El campo orden es obligatorio",fieldLength:"El campo orden debe contener un n\xfamero mayor que ",dontEdit:"No puedes modificar este campo"},phone:{required:"El campo tel\xe9fono es obligatorio",format:"El campo tel\xe9fono debe tener un formato de tel\xe9fono v\xe1lido",fieldLength:"El campo tel\xe9fono debe contener al menos 8 digitos"},password:{required:"El campo contrase\xf1a es obligatorio",fieldLength:"El campo contrase\xf1a debe contener al menos 8 caracteres"},profile_photo:{required:"El campo imagen de perfil es obligatorio",format:"El formato debe ser png, jpg o jpeg"},role_id:{required:"El campo rol id es obligatorio"},title:{required:"El campo titulo es obligatorio"},welcomeText:{required:"El campo bienvenido es obligatorio",fieldLength:"El campo bienvenido debe contener al menos 20 caracteres"}}},9749:function(e,n,t){t.r(n),t.d(n,{default:function(){return Yr}});var r,a,i,o,s,c,l=t(644),d=t(7689),u=t(8530),m=t(5630),x=t(1070),f=t(168),h=t(6444),p=t(7847),g=((0,h.ZP)(x.M)(r||(r=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(a||(a=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"])))),b=(0,h.ZP)(p.zx)(i||(i=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"]))),v=h.ZP.span(o||(o=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"]))),j=t(4165),S=t(1413),Z=t(5861),y=t(885),k=t(5705),E=t(2791),w=t(1724),C=t(5794),I=t(8015),T=["image/png","image/jpg","image/jpeg"],N=t(1545),F="Se produjo un error al obtener la actividad",D="Se produjo un error al crear la actividad",A="Se produjo un error al editar la actividad",B="No se elimin\xf3 la actividad",O=t(5271),U=t(1823),_=t(4008),K="Actividad eliminada",L="Operaci\xf3n \xe9xitosa",R=function(){var e="/"+l.x.BACKOFFICE+l.x.ACTIVITIES,n=(0,d.UO)().id,t=(0,d.s0)(),r=(0,E.useState)(""),a=(0,y.Z)(r,2),i=a[0],o=a[1],s=(0,E.useState)(!1),c=(0,y.Z)(s,2),u=c[0],m=c[1],x=(0,E.useState)({name:"",image:"",description:""}),f=(0,y.Z)(x,2),h=f[0],p=f[1];(0,E.useEffect)((function(){n&&_.Z.get("/activities/".concat(n)).then((function(e){var n=e.data;p({name:n.name,image:n.image,description:n.description})})).catch((function(){(0,O.w)("center","error","".concat(F))}))}),[n]);var g=function(){var r=(0,Z.Z)((0,j.Z)().mark((function r(){var a,o,s,c;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=B.name,o=B.description,s={name:a,description:o,image:i},!n){r.next=33;break}if(r.t0=S.Z,r.t1=(0,S.Z)((0,S.Z)({},h),s),r.t2={},r.t3=i,r.t3){r.next=11;break}return r.next=10,(0,N.p)(h.image);case 10:r.t3=r.sent;case 11:return r.t4=r.t3,r.t5={image:r.t4},c=(0,r.t0)(r.t1,r.t2,r.t5),r.next=16,(0,U.d)("\xbfEstas seguro/a?");case 16:if(!r.sent){r.next=31;break}return m(!0),r.next=21,_.Z.put("/activities",n,c);case 21:if(!r.sent.success){r.next=29;break}return m(!1),r.next=26,(0,O.w)("center","success","".concat(L));case 26:t(e),r.next=31;break;case 29:return r.next=31,(0,O.w)("center","error","".concat(A));case 31:r.next=50;break;case 33:return r.next=35,(0,U.d)("\xbfEstas seguro/a?");case 35:if(!r.sent){r.next=50;break}return m(!0),r.next=40,_.Z.post("/activities",s);case 40:if(!r.sent.success){r.next=48;break}return m(!1),r.next=45,(0,O.w)("center","success","".concat(L));case 45:t(e),r.next=50;break;case 48:return r.next=50,(0,O.w)("center","error","".concat(D));case 50:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();var b=function(e){return w.Ry().shape({name:w.Z_().min(4,C.K.name.fieldLength).required(C.K.name.required),image:w.nK().test("format",C.K.image.format,(function(n){return e?n:n&&T.includes(n.type)})).test("fileSize",C.K.image.fieldSize,(function(n){return e?n:n&&n.size<=I.aF})).required(C.K.image.required),description:w.Z_().required(C.K.description.required)})}(n),v=(0,k.TA)({initialValues:{name:"",image:"",description:""},onSubmit:g,validationSchema:b}),B=v.values,K=v.errors,R=v.handleBlur,q=v.handleSubmit,M=v.handleChange,z=v.touched,P=v.setFieldValue;(0,E.useEffect)((function(){Object.keys(h).length>0&&(P("name",h.name),P("description",h.description),P("image",h.image))}),[h,P]);return{values:B,errors:K,handleBlur:R,handleSubmit:q,handleChange:M,touched:z,activity:h,loading:u,formik:v,handleImage:function(e){var n=e.target.files[0];n?(v.setFieldValue("image",n),function(e,n){var t=new FileReader;t.onloadend=function(){n(t.result.toString())},t.readAsDataURL(e)}(n,o)):v.setFieldValue("image","")},cancel:function(){t(e)},setImageBase64:o,setFieldValue:P}},q=t(822),M=t(5866),z=t(2443),P=t.n(z),V=t(7551),H=t(4315),G=t(4216),W=t(184),J=function(e){var n=e.setFieldValue,t=e.errors,r=e.touched,a=e.name,i=e.placeholder,o=e.data,s=void 0===o?"":o,c=e.load,l=void 0!==c&&c,d=(0,E.useState)({content:""}),u=(0,y.Z)(d,2),m=u[0],x=u[1];return(0,W.jsx)(W.Fragment,{children:l?(0,W.jsx)(H.g,{placeClass:"placeClass col col-12  w-100 h-100",spanClass:"spanClass h-100 w-100",height:"141px"}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(V.CKEditor,{name:a,data:s,config:{placeholder:i},editor:P(),content:m.content,onChange:function(e,t){return function(e,t){var r=t.getData();r||(x({content:""}),n(a,"")),n(a,r),x({content:r})}(0,t)}}),(0,W.jsx)(G.v,{errors:t,touched:r,name:a})]})})},Y=t(1828),X=function(e){var n=e.title;return(0,W.jsx)(m.Z.Label,{className:"mt-3",children:n})},Q=function(){var e=R(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.activity,s=e.loading,c=e.formik,u=e.values,f=e.setImageBase64,h=e.setFieldValue,p=(0,d.UO)().id;return(0,W.jsxs)("section",{className:"container my-5",children:[(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(q.c,{title:p?"Edita actividad":"Crea actividad",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"d-block h-auto"})}),(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+l.x.ACTIVITIES})}),(0,W.jsxs)(m.Z,{className:"my-5 col-sm-10 col-lg-6 mx-auto",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicName",children:(0,W.jsxs)(g,{children:[(0,W.jsx)(X,{title:"Nombre de la actividad:"}),(0,W.jsx)(x.M,{type:"text",name:"name",value:u.name,onChange:a,onBlur:t,placeholder:"Nombre"}),n.name&&i.name&&(0,W.jsx)(v,{children:n.name})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicDescription",children:(0,W.jsxs)(g,{children:[(0,W.jsx)(X,{title:"Descripci\xf3n de la actividad:"}),(0,W.jsx)(J,{setFieldValue:h,errors:n,touched:i,name:"description",placeholder:"Descripcion de la actividad",data:o.description})]})}),(0,W.jsxs)(m.Z.Group,{className:"mb-5",controlId:"formBasicImage",children:[(0,W.jsx)(X,{title:"Imagen de la actividad:"}),(0,W.jsx)(M.t,{errors:n,touched:i,name:"image",setFieldValue:c.setFieldValue,setImageToSend:f,imageIsEdit:o.image})]}),(0,W.jsx)("div",{className:"my-5 d-flex justify-content-center",children:(0,W.jsx)(b,{className:"col-7 col-lg-8 py-2 px-3 mx-auto",disabled:s,background:"success",color:"success",type:"submit",children:"Confirmar"})})]})]})},$=t(812),ee=t(5832),ne=t(2591),te=t(2156),re=t(7852),ae=h.ZP.thead(s||(s=(0,f.Z)(["\n  background-color: ",";\n  color: ",";\n"])),re.l.blue,re.l.white),ie=(0,h.ZP)(ne.Z)(c||(c=(0,f.Z)(["\n  ",";\n"])),te.oD),oe=t(4887),se=function(e){var n=e.children,t=e.loading,r=function(e){return"image"!==e&&"photo"!==e?null===n||void 0===n?void 0:n.element[e]:(0,W.jsx)(te.dK,{image:null===n||void 0===n?void 0:n.element[e]})};return(0,W.jsx)(W.Fragment,{children:Object.keys(null===n||void 0===n?void 0:n.myTableData).map((function(e){return(0,W.jsx)("td",{children:t?(0,W.jsx)(H.g,{}):r(e)},e)}))})},ce=[$.gR,$.ap],le=function(e){var n=e.handleEdit,t=e.handleDelete,r=e.children,a=e.loading,i=void 0!==a&&a;return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:(null===r||void 0===r?void 0:r.idx)+1||(0,W.jsx)(H.g,{})}),(0,W.jsx)(se,{children:r,loading:i}),(0,W.jsx)("td",{className:"m-auto py-1 px-0 pt-sm-2 ",children:(0,W.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:i?(0,W.jsx)(H.g,{skeletonClass:"col col-12 mt-1 mt-sm-0"}):ce.map((function(e,a){return(0,W.jsx)(oe.o,{buttonClass:"mt-1 mt-sm-0 me-1 ",text:e,color:a?void 0:"yellow",background:a?void 0:"yellow",onClick:function(){var e,i,o;return a?t(null===r||void 0===r||null===(i=r.element)||void 0===i?void 0:i.id,null===r||void 0===r||null===(o=r.element)||void 0===o?void 0:o.name):n(null===r||void 0===r||null===(e=r.element)||void 0===e?void 0:e.id)}},a)}))})})]})},de=function(e){var n=e.load,t=e.element;return(0,W.jsx)("th",{children:n?(0,W.jsx)(H.g,{}):t})},ue=function(e){var n=e.tHead,t=e.tBody,r=e.loading,a=e.myTableData,i=e.handleEdit,o=e.handleDelete;return(0,W.jsx)("div",{className:"mt-2",children:(0,W.jsxs)(ie,{className:"text-center",responsive:"md",striped:!0,bordered:!0,hover:!0,children:[(0,W.jsx)(ae,{children:(0,W.jsx)("tr",{children:null===n||void 0===n?void 0:n.map((function(e){return(0,W.jsx)(de,{load:r,element:e},e)}))})}),(0,W.jsx)("tbody",{children:r?(0,W.jsx)(le,{loading:r,children:{myTableData:a}}):null===t||void 0===t?void 0:t.map((function(e,n){return(0,W.jsx)(le,{handleEdit:i,handleDelete:o,children:{key:e.id,element:e,idx:n,myTableData:a}},n)}))})]})})},me=t(811),xe=function(e){var n=e.onSearchActivities,t=e.disabled,r=(0,E.useState)(""),a=(0,y.Z)(r,2),i=a[0],o=a[1];return(0,W.jsx)(me.M,{searchText:i,placeholder:"Buscar actividad...",onChangeText:function(e){o(e)},onSearch:function(){n(i)},disabled:t})},fe=t(9434),he=t(2580),pe=t(4057),ge=function(){var e,n=["#","Nombre","Imagen","Fecha de Creaci\xf3n","Acciones"],t={name:"name",image:"image",createdAt:"createdAt"},r=function(){var e=(0,E.useState)(!1),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,fe.I0)(),i=(0,fe.v9)((function(e){return e.activity})),o=(0,d.s0)(),s=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.activities.find((function(e){return n===e.id}))){e.next=19;break}return e.next=4,(0,U.d)("\xbfEstas segura/o que deseas eliminar la actividad?");case 4:if(!e.sent){e.next=18;break}return r(!0),e.next=9,_.Z.deleted(he.S.activity,n);case 9:if(!e.sent){e.next=16;break}return e.next=13,(0,O.w)("center","success","".concat(K));case 13:a((0,pe.q)()),e.next=18;break;case 16:return e.next=18,(0,O.w)("center","error","".concat(B));case 18:r(!1);case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){var t;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},n.length>=3&&(t.search=n),a((0,pe.q)(t));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){a((0,pe.q)())}),[a]),{activity:i,loadingDelete:t,editHandler:function(e){o("/".concat(l.x.BACKOFFICE).concat(l.x.ACTIVITIESEDIT,"/").concat(e))},deleteHandler:s,searchActivitiesHandler:c}}(),a=r.activity,i=r.loadingDelete,o=r.editHandler,s=r.deleteHandler,c=r.searchActivitiesHandler;return e="idle"===a.status||"loading"===a.status||i?(0,W.jsx)(ue,{tHead:n,tBody:a.activities,myTableData:t,handleEdit:o,handleDelete:s,loading:!0}):a.activities.length>0?(0,W.jsx)(ue,{tHead:n,tBody:a.activities,myTableData:t,handleEdit:o,handleDelete:s}):(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center mt-5",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Sin actividades para mostrar"})}),(0,W.jsxs)("div",{className:"my-5",children:[(0,W.jsx)(q.c,{title:"Actividades",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"h-auto"}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-md-between mb-3",children:[(0,W.jsx)(Y.i,{wrapLink:"col-10 col-sm-5 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 col-md-4",text:"Crear Actividad",to:"/"+l.x.BACKOFFICE+l.x.ACTIVITIESCREATE,color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)("div",{className:"my-3",children:(0,W.jsx)(xe,{onSearchActivities:c,disabled:!a.activities.length})}),(0,W.jsx)("div",{className:"mt-3",children:e})]})},be=t(8979),ve=t(3312),je=t(6468),Se=function(e){var n=e.onSearchCategories,t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1];return(0,W.jsx)(me.M,{searchText:a,placeholder:"Buscar categor\xeda...",onChangeText:function(e){i(e)},onSearch:function(){n(a)}})};function Ze(){var e,n=function(){var e=(0,E.useState)(!1),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,fe.I0)(),i=(0,fe.v9)((function(e){return e.category})),o=(0,d.s0)(),s=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length>=3?a((0,je.C)("?search=".concat(n))):a((0,je.C)());case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){a((0,je.C)())}),[]),{category:i,searchCategoriesHandler:s,tHead:["#","Nombre","Creado","Acciones"],myTableData:{name:"name",createdAt:"createdAt"},toEdit:function(e){o("edit/".concat(e))},handleDelete:function(e){var n=i.categories.find((function(n){return e===n.id}));n&&(0,U.d)('\xbfEstas segura/o que deseas eliminar "'.concat(n.name,'"?')).then((function(n){n&&(r(!0),_.Z.deleted(he.S.category,e).then((function(e){e.success?((0,O.w)("center","success","Categor\xeda Eliminada"),a((0,je.C)())):(0,O.w)("center","error",ve.x.problemExistTryLater)})).catch((function(){return(0,O.w)("center","error",ve.x.problemExistTryLater)})).finally((function(){return r(!1)})))}))},loading:t}}(),t=n.category,r=n.searchCategoriesHandler,a=n.handleDelete,i=n.toEdit,o=n.tHead,s=n.myTableData,c=n.loading;return("idle"===t.status||"loading"===t.status||c)&&(e=(0,W.jsx)(ue,{loading:!0,tHead:o,myTableData:s,tBody:t.categories,handleDelete:a,handleEdit:i})),"success"===t.status&&(e=t.categories.length?(0,W.jsx)(ue,{tHead:o,myTableData:s,tBody:t.categories,handleDelete:a,handleEdit:i}):(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center mt-5",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Sin categor\xedas para mostrar"})})),"error"===t.status&&(e=(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center mt-5",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Ha ocurrido un error al mostrar las categor\xedas"})})),(0,W.jsxs)("div",{className:"mb-5",children:[(0,W.jsx)("div",{className:"d-flex col col-12",children:(0,W.jsx)(q.c,{title:"Categor\xedas",height:"none"})}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 col-md-4 col-lg-3 my-2",text:"Crear Categor\xeda",to:"create",color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)("div",{className:"my-4",children:(0,W.jsx)(Se,{onSearchCategories:r})}),(0,W.jsx)("div",{children:e})]})}var ye,ke,Ee,we,Ce=function(e){var n=e.label,t=void 0===n?"":n,r=e.value,a=void 0===r?"":r,i=e.type,o=void 0===i?"text":i,s=e.name,c=void 0===s?"":s,l=e.placeholder,d=void 0===l?"":l,u=e.isTouched,f=void 0!==u&&u,h=e.error,p=void 0===h?"":h,g=e.onChange,b=void 0===g?function(){}:g,v=e.onBlur,j=void 0===v?function(){}:v;return(0,W.jsxs)(m.Z.Group,{children:[(0,W.jsx)(m.Z.Label,{children:t}),(0,W.jsx)(x.M,{className:"px-4 py-2",type:o,name:c,value:a,onChange:b,onBlur:j,placeholder:d}),f&&p&&(0,W.jsx)(m.Z.Text,{className:"text-danger",children:p})]})},Ie=((0,h.ZP)(x.M)(ye||(ye=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(ke||(ke=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"]))),(0,h.ZP)(p.zx)(Ee||(Ee=(0,f.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n"])),re.l.yellow,re.l.yellow,re.l.black,re.l.yellow,re.l.yellow)),Te=(h.ZP.span(we||(we=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"]))),function(e){var n=e.label,t=void 0===n?"":n,r=e.initialData,a=void 0===r?"":r,i=e.isTouched,o=void 0!==i&&i,s=e.error,c=void 0===s?"":s,l=e.onChange,d=void 0===l?function(){}:l;return(0,W.jsxs)(m.Z.Group,{children:[(0,W.jsx)(m.Z.Label,{children:t}),(0,W.jsx)(V.CKEditor,{editor:P(),data:a,onChange:function(e,n){var t=n.getData();d(t)}}),o&&c&&(0,W.jsx)(m.Z.Text,{className:"text-danger",children:c})]})}),Ne=t(1830),Fe=t.n(Ne),De=function(e){var n=e.icon,t=e.title,r=e.cancelText;return Fe().fire({title:t,icon:n,iconColor:"#0038FF",showCancelButton:!!r,cancelButtonColor:!!r&&"#FF0000",cancelButtonText:!!r&&"Cancelar",confirmButtonColor:"#0038FF",confirmButtonText:"Aceptar"})},Ae="Se produjo un error al obtener los datos de la organizaci\xf3n",Be="Se produjo un error al editar los datos de la organizaci\xf3n",Oe=["image/jpg","image/jpeg","image/png"],Ue=[".jpg",".png",".jpeg"];function _e(e,n){if(!e)return!1;var t=n.includes(e.type);return t||"string"!==typeof e||(t=Ue.some((function(n){return e.includes(n)}))),t}function Ke(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}var Le,Re,qe,Me,ze,Pe,Ve,He,Ge,We,Je,Ye,Xe,Qe,$e,en,nn=w.Ry().shape({name:w.Z_().required("El nombre es obligatorio"),logo:w.nK().test({message:"El logo es obligatorio",test:function(e,n){return null!=e&&!Ke(e)}}).test({message:"El logo debe tener un formato .png o .jpg",test:function(e,n){return _e(e,Oe)}}),shortDescription:w.Z_().required("La descripci\xf3n corta es obligatoria"),longDescription:w.Z_().required("La descripci\xf3n larga es obligatoria"),facebookUrl:w.Z_().required("La Url de Facebook es obligatoria").url("Ingrese una url v\xe1lida"),linkedinUrl:w.Z_().required("La Url de LinkedIn es obligatoria").url("Ingrese una url v\xe1lida"),instagramUrl:w.Z_().required("La Url de Instagram es obligatoria").url("Ingrese una url v\xe1lida"),twitterUrl:w.Z_().required("La Url de Twitter es obligatoria").url("Ingrese una url v\xe1lida")}),tn=w.Ry().shape({name:w.Z_().required("El nombre es obligatorio").min(4,"El nombre debe tener al menos 4 caracteres"),image:w.nK().test({message:"La imagen es obligatoria",test:function(e,n){return null!=e&&!Ke(e)}}).test({message:"La imagen debe tener un formato .png o .jpg",test:function(e,n){return _e(e,Oe)}}),description:w.Z_().required("La descripci\xf3n es obligatoria"),facebookUrl:w.Z_().required("La Url de Facebook es obligatoria").url("Ingrese una url v\xe1lida"),linkedinUrl:w.Z_().required("La Url de LinkedIn es obligatoria").url("Ingrese una url v\xe1lida")}),rn=(w.Ry().shape({socialMediaLink:w.Z_().required("Ingrese una url").url("Ingrese una url v\xe1lida")}),function(){var e=function(){var e=(0,d.s0)(),n=(0,E.useState)(""),t=(0,y.Z)(n,2),r=t[0],a=t[1],i=(0,E.useState)(!1),o=(0,y.Z)(i,2),s=o[0],c=o[1],l=(0,E.useState)({name:"",logo:"",shortDescription:"",longDescription:"",facebookUrl:"",linkedinUrl:"",instagramUrl:"",twitterUrl:""}),u=(0,y.Z)(l,2),m=u[0],x=u[1];(0,E.useEffect)((function(){_.Z.get(he.S.organization).then((function(e){var n=e.data;x({name:n.name,logo:n.logo,shortDescription:n.short_description,longDescription:n.long_description,facebookUrl:n.facebook_url,linkedinUrl:n.linkedin_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url})})).catch((function(e){(0,O.w)("center","error","".concat(Ae))}))}),[]);var f="/backoffice",h=function(){var n=(0,Z.Z)((0,j.Z)().mark((function n(){var t,a,i,o,s,l,d,u;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=g.name,a=g.shortDescription,i=g.longDescription,o=g.facebookUrl,s=g.instagramUrl,l=g.linkedinUrl,d=g.twitterUrl,u={name:t,logo:r,shortDescription:a,longDescription:i,facebookUrl:o,instagramUrl:s,linkedinUrl:l,twitterUrl:d},n.next=4,De({icon:"warning",title:"\xbfSegura/o?",cancelText:"Cancelar"});case 4:if(!n.sent.isConfirmed){n.next=20;break}return c(!0),n.next=9,_.Z.post("/".concat(he.S.organization),u);case 9:if(!n.sent.success){n.next=17;break}return c(!1),n.next=14,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 14:e(f),n.next=19;break;case 17:return n.next=19,(0,O.w)("center","error","".concat(Be));case 19:c(!1);case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=(0,k.TA)({initialValues:{name:"",logo:"",shortDescription:"",longDescription:"",facebookUrl:"",linkedinUrl:"",instagramUrl:"",twitterUrl:""},validationSchema:nn,onSubmit:h}),g=p.values,b=p.errors,v=p.handleBlur,S=p.handleSubmit,w=p.handleChange,C=p.touched,I=p.setFieldValue;return(0,E.useEffect)((function(){Object.keys(m).length>0&&(I("name",m.name),I("logo",m.logo),I("shortDescription",m.shortDescription),I("longDescription",m.longDescription),I("facebookUrl",m.facebookUrl),I("linkedinUrl",m.linkedinUrl),I("instagramUrl",m.instagramUrl),I("twitterUrl",m.twitterUrl))}),[m,I]),{values:g,errors:b,handleBlur:v,handleSubmit:S,handleChange:w,touched:C,organization:m,loading:s,formik:p,cancel:function(){e(f)},setImageBase64:a,setFieldValue:I}}(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.organization,s=e.loading,c=e.formik,u=e.values,x=e.setImageBase64;return(0,W.jsxs)("section",{className:"container my-5",children:[(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(q.c,{title:"Editar Organizaci\xf3n",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"d-block h-auto"})}),(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+l.x.ORGANIZATIONDATA})}),(0,W.jsxs)(m.Z,{className:"my-5 col-sm-10 col-lg-6 mx-auto d-flex flex-column gap-4",onSubmit:r,children:[(0,W.jsx)(Ce,{value:u.name,label:"Nombre de la organizaci\xf3n:",type:"text",name:"name",placeholder:"Nombre",isTouched:i.name,error:n.name,onChange:a,onBlur:t}),(0,W.jsx)(M.t,{errors:n.logo,touched:i.logo,name:"logo",setFieldValue:c.setFieldValue,setImageToSend:x,imageIsEdit:o.logo}),(0,W.jsx)(Te,{label:"Descripci\xf3n corta de la organizaci\xf3n:",initialData:u.shortDescription,isTouched:i.shortDescription,error:n.shortDescription,onChange:function(e){c.setFieldValue("shortDescription",e)}}),(0,W.jsx)(Ce,{value:u.longDescription,label:"Descripci\xf3n larga de la organizaci\xf3n:",type:"text",name:"longDescription",placeholder:"Descripci\xf3n larga",isTouched:i.longDescription,error:n.longDescription,onChange:a,onBlur:t}),(0,W.jsx)(Ce,{value:u.facebookUrl,label:"Facebook de la organizaci\xf3n:",type:"text",name:"facebookUrl",placeholder:"Url Facebook",isTouched:i.facebookUrl,error:n.facebookUrl,onChange:a,onBlur:t}),(0,W.jsx)(Ce,{value:u.linkedinUrl,label:"LinkedIn de la organizaci\xf3n:",type:"text",name:"linkedinUrl",placeholder:"Url LinkedIn",isTouched:i.linkedinUrl,error:n.linkedinUrl,onChange:a,onBlur:t}),(0,W.jsx)(Ce,{value:u.instagramUrl,label:"Instragram de la organizaci\xf3n:",type:"text",name:"instagramUrl",placeholder:"Url Instagram",isTouched:i.instagramUrl,error:n.instagramUrl,onChange:a,onBlur:t}),(0,W.jsx)(Ce,{value:u.twitterUrl,label:"Twitter de la organizaci\xf3n:",type:"text",name:"twitterUrl",placeholder:"Url Twitter",isTouched:i.twitterUrl,error:n.twitterUrl,onChange:a,onBlur:t}),(0,W.jsx)("div",{className:"my-5 d-flex justify-content-center",children:(0,W.jsx)(Ie,{className:"col-7 col-lg-8 py-2 px-3 mx-auto",disabled:s,type:"submit",children:"Editar"})})]})]})}),an="Se produjo un error al obtener el miembro",on="Se produjo un error al crear el miembro",sn="Se produjo un error al editar el miembro",cn="Se produjo un error al borrar el miembro",ln=((0,h.ZP)(x.M)(Le||(Le=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(Re||(Re=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"]))),(0,h.ZP)(p.zx)(qe||(qe=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"])))),dn=(0,h.ZP)(p.zx)(Me||(Me=(0,f.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n"])),re.l.yellow,re.l.yellow,re.l.black,re.l.yellow,re.l.yellow),un=(h.ZP.span(ze||(ze=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"]))),function(){var e=(0,d.UO)().id,n=function(){var e=(0,d.UO)().id,n=(0,d.s0)(),t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)(!1),s=(0,y.Z)(o,2),c=s[0],l=s[1],u=(0,E.useState)({name:"",image:"",description:"",facebookUrl:"",linkedinUrl:""}),m=(0,y.Z)(u,2),x=m[0],f=m[1];(0,E.useEffect)((function(){e&&_.Z.get("".concat(he.S.member,"/").concat(e)).then((function(e){var n=e.data;f({name:n.name,image:n.image,description:n.description,facebookUrl:n.facebookUrl,linkedinUrl:n.linkedinUrl})})).catch((function(){(0,O.w)("center","error","".concat(an))}))}),[e]);var h="/backoffice",p=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,i,o,s,c,d;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=b.name,i=b.description,o=b.facebookUrl,s=b.linkedinUrl,c={name:r,description:i,image:a,facebookUrl:o,linkedinUrl:s},!e){t.next=24;break}return d=(0,S.Z)((0,S.Z)((0,S.Z)({},x),c),{},{image:a}),t.next=6,De({icon:"warning",title:"\xbfSeguro/a?",cancelText:"Cancelar"});case 6:if(!t.sent.isConfirmed){t.next=22;break}return l(!0),t.next=11,_.Z.put(he.S.member,e,d);case 11:if(!t.sent.success){t.next=19;break}return l(!1),t.next=16,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 16:n(h),t.next=22;break;case 19:return t.next=21,(0,O.w)("center","error","".concat(sn));case 21:l(!1);case 22:t.next=42;break;case 24:return t.next=26,De({icon:"warning",title:"\xbfSegura/o?",cancelText:"Cancelar"});case 26:if(!t.sent.isConfirmed){t.next=42;break}return l(!0),t.next=31,_.Z.post(he.S.member,c);case 31:if(!t.sent.success){t.next=39;break}return t.next=35,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 35:l(!1),n(h),t.next=42;break;case 39:return t.next=41,(0,O.w)("center","error","".concat(on));case 41:l(!1);case 42:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=(0,k.TA)({initialValues:{name:"",image:"",description:"",facebookUrl:"",linkedinUrl:""},onSubmit:p,validationSchema:tn}),b=g.values,v=g.errors,w=g.handleBlur,C=g.handleSubmit,I=g.handleChange,T=g.touched,N=g.setFieldValue;return(0,E.useEffect)((function(){Object.keys(x).length>0&&(N("name",x.name),N("image",x.image),N("description",x.description),N("facebookUrl",x.facebookUrl),N("linkedinUrl",x.linkedinUrl))}),[x,N]),{values:b,errors:v,handleBlur:w,handleSubmit:C,handleChange:I,touched:T,member:x,loading:c,formik:g,cancel:function(){n(h)},setImageBase64:i,setFieldValue:N}}(),t=n.errors,r=n.handleBlur,a=n.handleSubmit,i=n.handleChange,o=n.touched,s=n.member,c=n.loading,u=n.formik,x=n.values,f=n.setImageBase64;return(0,W.jsxs)("section",{className:"container my-5",children:[(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(q.c,{title:e?"Editar miembro":"Crear miembro",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"d-block h-auto"})}),(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+l.x.MEMBERSLIST})}),(0,W.jsxs)(m.Z,{className:"my-5 col-sm-10 col-lg-6 mx-auto d-flex flex-column gap-4",onSubmit:a,children:[(0,W.jsx)(Ce,{value:x.name,label:"Nombre del miembro:",type:"text",name:"name",placeholder:"Nombre",isTouched:o.name,error:t.name,onChange:i,onBlur:r}),(0,W.jsx)(M.t,{errors:t,touched:o,name:"image",setFieldValue:u.setFieldValue,setImageToSend:f,imageIsEdit:s.image}),(0,W.jsx)(Te,{label:"Descripci\xf3n del miembro:",initialData:x.description,isTouched:o.description,error:t.description,onChange:function(e){u.setFieldValue("description",e)}}),(0,W.jsx)(Ce,{value:x.facebookUrl,label:"Facebook del miembro:",type:"text",name:"facebookUrl",placeholder:"Url Facebook",isTouched:o.facebookUrl,error:t.facebookUrl,onChange:i,onBlur:r}),(0,W.jsx)(Ce,{value:x.linkedinUrl,label:"LinkedIn del miembro:",type:"text",name:"linkedinUrl",placeholder:"Url LinkedIn",isTouched:o.linkedinUrl,error:t.linkedinUrl,onChange:i,onBlur:r}),(0,W.jsx)("div",{className:"my-5 d-flex justify-content-center",children:e?(0,W.jsx)(dn,{className:"col-7 col-lg-8 py-2 px-3 mx-auto",disabled:c,type:"submit",children:"Editar"}):(0,W.jsx)(ln,{className:"col-7 col-lg-8 py-2 px-3 mx-auto",disabled:c,background:"success",color:"success",type:"submit",children:"Confirmar"})})]})]})}),mn=function(e){var n=e.onSearchMembers,t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1];return(0,W.jsx)(me.M,{searchText:a,placeholder:"Buscar miembro...",onChangeText:function(e){i(e)},onSearch:function(){n(a)}})},xn=t(7249),fn=function(){var e,n=function(){var e=(0,E.useState)(!1),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,d.s0)(),i=(0,fe.I0)(),o=(0,fe.v9)((function(e){return e.member})),s=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){var t;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=o.members.find((function(e){return n===e.id})))){e.next=12;break}return e.next=4,(0,U.d)('\xbfEstas segura/o que deseas eliminar "'.concat(t.name,'"?'));case 4:if(!e.sent){e.next=11;break}return r(!0),e.next=9,_.Z.deleted(he.S.member,n);case 9:e.sent.success?((0,O.w)("center","success","Operaci\xf3n \xe9xitosa"),i((0,xn.K)())):(0,O.w)("center","error",cn);case 11:r(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,E.useEffect)((function(){i((0,xn.K)())}),[]);var c=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length>=2?i((0,xn.K)("?search=".concat(n))):i((0,xn.K)());case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{member:o,loadingDelete:t,handleDelete:s,handleEdit:function(e){a("/".concat(l.x.BACKOFFICE).concat(l.x.MEMBERSEDITFORM).concat(e))},searchMembersHandler:c}}(),t=n.member,r=n.loadingDelete,a=n.handleDelete,i=n.handleEdit,o=n.searchMembersHandler;return("idle"===t.status||"loading"===t.status||r)&&(e=(0,W.jsx)(ue,{loading:!0,tHead:["#","Nombre","Foto","Acciones"],tBody:t.members,myTableData:{name:"name",image:"image"},handleEdit:i,handleDelete:a})),"success"===t.status&&(e=t.members.length>0?(0,W.jsx)(ue,{tHead:["#","Nombre","Foto","Acciones"],tBody:t.members,myTableData:{name:"name",image:"image"},handleEdit:i,handleDelete:a}):(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center mt-5",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Sin miembros para mostrar"})})),"error"===t.status&&(e=(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center mt-5",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Ha ocurrido un error al mostrar los miembros"})})),(0,W.jsxs)("div",{children:[(0,W.jsx)(q.c,{title:"Miembros",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"h-auto"}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 col-md-4 my-2",text:"Crear Miembro",to:"/"+l.x.BACKOFFICE+l.x.MEMBERSCREATEFORM,color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)("div",{className:"my-3",children:(0,W.jsx)(mn,{onSearchMembers:o})}),(0,W.jsx)("div",{children:e})]})},hn=function(e){var n=e.categories,t=void 0===n?[]:n,r=e.onChangeCategory;return(0,W.jsxs)(m.Z.Select,{onChange:function(e){r(e.target.value)},children:[(0,W.jsx)("option",{value:"",children:"Todas"}),t.map((function(e){return(0,W.jsx)("option",{value:e.id,children:e.name},e.id)}))]})},pn="Se produjo un error al obtener las novedades",gn="Se produjo un error al obtener las categorias",bn="Se produjo un error al crear la novedad",vn="Se produjo un error al editar la novedad",jn=function(e){var n=e.onSearchNews,t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)(""),s=(0,y.Z)(o,2),c=s[0],l=s[1],d=function(){var e=(0,E.useState)([]),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,E.useState)(!0),i=(0,y.Z)(a,2),o=i[0],s=i[1];return(0,E.useEffect)((function(){var e=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n,t;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),n=he.S.category,e.next=5,_.Z.get(n);case 5:if(!(t=e.sent)||t.success){e.next=8;break}throw new Error(t.message);case 8:r(t.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,O.w)("center","error","".concat(gn));case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),{loadingCategories:o,categoriesData:t}}(),u=d.categoriesData;return(0,W.jsxs)("div",{className:"my-3 d-flex gap-3 flex-column flex-md-row",children:[(0,W.jsx)("div",{className:"flex-fill",children:(0,W.jsx)(me.M,{searchText:a,placeholder:"Buscar novedad...",onChangeText:function(e){i(e)},onSearch:function(){n(a,c)}})}),(0,W.jsx)("div",{children:(0,W.jsx)(hn,{onChangeCategory:function(e){l(e),n(a,e)},categories:u})})]})},Sn=["image/png","image/jpg","image/jpeg"],Zn=function(e){return e.filter((function(e){return e.name&&e.content&&e.image}))},yn=t(1004),kn=t(7734),En=function(e){var n,t=e.deleteHandler,r=function(){var e=(0,E.useState)([]),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,E.useState)(!0),i=(0,y.Z)(a,2),o=i[0],s=i[1],c=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n,t,a,i,o,c=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,s(!0),t=(0,yn.b)(n),a="".concat(he.S.news,"?").concat(t),e.next=7,_.Z.get(a);case 7:if(!(i=e.sent)||i.success){e.next=10;break}throw new Error(i.message);case 10:o=Zn(i.data),r(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),(0,O.w)("center","error","".concat(pn));case 17:return e.prev=17,s(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){c()}),[]),{loadingNews:o,newsData:t,fetchNews:c}}(),a=r.loadingNews,i=r.newsData,o=r.fetchNews,s=(0,d.s0)(),c=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n,t){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.length>0&&(r.category=t),n.length>=3&&(r.search=n),e.next=5,o(r);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return n=a?(0,W.jsx)(kn.L,{}):(0,W.jsx)(ue,{tHead:["#","Nombre","Imagen","Fecha de Creaci\xf3n","Acciones"],tBody:i,myTableData:{name:"name",image:"image",created_at:"created_at"},handleEdit:function(e){s("/".concat(l.x.BACKOFFICE).concat(l.x.NEWSEDITFORM).concat(e))},handleDelete:t}),(0,W.jsxs)("div",{children:[(0,W.jsx)(q.c,{title:"Novedades",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"h-auto"}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 col-md-4 my-2",text:"Crear Novedad",to:"/"+l.x.BACKOFFICE+l.x.NEWSCREATEFORM,color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)(jn,{onSearchNews:c}),(0,W.jsx)("div",{children:n})]})},wn=((0,h.ZP)(x.M)(Pe||(Pe=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(Ve||(Ve=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"])))),Cn=(0,h.ZP)(p.zx)(He||(He=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"]))),In=h.ZP.span(Ge||(Ge=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"]))),Tn=t(5825),Nn=function(){var e=(0,d.UO)().id,n=(0,d.s0)(),t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)([]),s=(0,y.Z)(o,2),c=(s[0],s[1]),l=(0,E.useState)(!1),u=(0,y.Z)(l,2),m=u[0],x=u[1],f=(0,E.useState)({name:"",category_id:"",content:"",image:""}),h=(0,y.Z)(f,2),p=h[0],g=h[1];(0,E.useEffect)((function(){e&&Tn.h.get("/news/".concat(e)).then((function(e){var n=e.data.data;g({name:n.name,category_id:n.category_id,content:n.content,image:n.image})})).catch((function(){(0,O.w)("center","error","".concat(pn))}))}),[e]),(0,E.useEffect)((function(){Tn.h.get("/categories").then((function(e){var n=e.data.data.map((function(e){return{id:e.id,name:e.name}}));c(n)})).catch((function(){(0,O.w)("center","error","".concat(gn))}))}),[]);var b="/backoffice",v=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,i,o,s,c;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=F.name,i=F.content,o=F.category_id,s={name:r,content:i,category_id:o,image:a},!e){t.next=32;break}if(t.t0=S.Z,t.t1=(0,S.Z)((0,S.Z)({},p),s),t.t2={},t.t3=a,t.t3){t.next=11;break}return t.next=10,p.image;case 10:t.t3=t.sent;case 11:return t.t4=t.t3,t.t5={image:t.t4},c=(0,t.t0)(t.t1,t.t2,t.t5),t.next=16,De({icon:"warning",title:"\xbfEstas segura/o de enviarlo?",cancelText:"Cancelar"});case 16:if(!t.sent.isConfirmed){t.next=30;break}return x(!0),t.next=21,Tn.h.put("/news/".concat(e),c);case 21:if(!t.sent.data.success){t.next=29;break}return x(!1),t.next=26,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 26:n(b),t.next=30;break;case 29:(0,O.w)("center","error","".concat(vn));case 30:t.next=48;break;case 32:return t.next=34,De({icon:"warning",title:"\xbfEstas segura/o de enviarlo?",cancelText:"Cancelar"});case 34:if(!t.sent.isConfirmed){t.next=48;break}return x(!0),t.next=39,Tn.h.post("/news",s);case 39:if(!t.sent.data.success){t.next=47;break}return x(!1),t.next=44,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 44:n(b),t.next=48;break;case 47:(0,O.w)("center","error","".concat(bn));case 48:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(e){return w.Ry().shape({name:w.Z_().min(4,C.K.name.fieldLength).required(C.K.name.required),content:w.Z_().required(C.K.content.required),category_id:w.Z_().required(C.K.category_id.required),image:w.nK().test("format",C.K.image.format,(function(n){return e?n:n&&Sn.includes(n.type)})).test("fileSize",C.K.image.fieldSize,(function(n){return e?n:n&&n.size<=I.aF})).required(C.K.image.required)})}(e),N=(0,k.TA)({initialValues:{name:"",category_id:"",content:"",image:""},onSubmit:v,validationSchema:T}),F=N.values,D=N.errors,A=N.handleBlur,B=N.handleSubmit,U=N.handleChange,_=N.touched,K=N.setFieldValue;(0,E.useEffect)((function(){Object.keys(p).length>0&&(K("name",p.name),K("content",p.content),K("image",p.image),K("category_id",p.category_id))}),[p,K]);return{values:F,errors:D,handleBlur:A,handleSubmit:B,handleChange:U,touched:_,news:p,loading:m,formik:N,cancel:function(){n(b)},setImageBase64:i,setFieldValue:K}},Fn=function(){var e=Nn(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.news,s=e.loading,c=e.formik,u=e.values,f=e.setImageBase64,h=e.setFieldValue,p=e.categories,g=(0,d.UO)().id;return(0,W.jsxs)("div",{className:"container my-5",children:[(0,W.jsx)("div",{children:(0,W.jsx)(q.c,{title:g?"Edita novedad":"Crea novedad",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"h-auto"})}),(0,W.jsx)("div",{children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+"news"})}),(0,W.jsxs)(m.Z,{className:"my-5 col-sm-10 col-lg-6 mx-auto",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicName",children:(0,W.jsxs)(wn,{children:[(0,W.jsx)(X,{title:"Titulo de la novedad:"}),(0,W.jsx)(x.M,{type:"text",name:"name",value:u.name,onChange:a,onBlur:t,placeholder:"Titulo"}),n.name&&i.name&&(0,W.jsx)(In,{children:n.name})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicCategoryId",children:(0,W.jsxs)(wn,{children:[(0,W.jsx)(X,{title:"Categor\xeda de la novedad:"}),(0,W.jsxs)(m.Z.Select,{"aria-label":"Seleccionar la categoria",name:"category_id",onChange:a,onBlur:t,children:[(0,W.jsx)("option",{value:"",children:"Selecciona una categoria"}),p.map((function(e){return(0,W.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),n.category_id&&i.category_id&&(0,W.jsx)(In,{children:n.category_id})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicContent",children:(0,W.jsxs)(wn,{children:[(0,W.jsx)(X,{title:"Contenido de la novedad:"}),(0,W.jsx)(J,{setFieldValue:h,errors:n,touched:i,name:"content",placeholder:"Contenido de la novedad",data:o.content})]})}),(0,W.jsxs)(m.Z.Group,{className:"mb-2",controlId:"formBasicImage",children:[(0,W.jsx)(X,{title:"Imagen de la actividad:"}),(0,W.jsx)(M.t,{errors:n,touched:i,name:"image",setFieldValue:c.setFieldValue,setImageToSend:f,imageIsEdit:o.image})]}),(0,W.jsx)("div",{className:"my-5 d-flex justify-content-center",children:(0,W.jsx)(Cn,{className:"col-7 col-lg-8 py-2 px-3",disabled:s,background:"success",color:"success",type:"submit",children:"Confirmar"})})]})]})},Dn=((0,h.ZP)(x.M)(We||(We=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(Je||(Je=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"])))),An=(0,h.ZP)(p.zx)(Ye||(Ye=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"]))),Bn=((0,h.ZP)(p.zx)(Xe||(Xe=(0,f.Z)(["\n  border: 1px solid #ff0000;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #ff0000 !important;\n    border: 1px solid #ff0000;\n  }\n"]))),h.ZP.span(Qe||(Qe=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"])))),On=["image/png","image/jpg","image/jpeg"],Un=function(){var e=(0,d.UO)().id,n=(0,d.s0)(),t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)(!1),s=(0,y.Z)(o,2),c=s[0],l=s[1],u=(0,E.useState)({title:"",description:"",image:"",due_date:""}),m=(0,y.Z)(u,2),x=m[0],f=m[1];(0,E.useEffect)((function(){e&&Tn.h.get("/projects/".concat(e)).then((function(e){var n=e.data.data;f({title:n.title,description:n.description,image:n.image,due_date:n.due_date})})).catch((function(){De({icon:"error",title:"Ha ocurrido un error"})}))}),[e]);var h="/backoffice",p=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,i,o,s,c,d;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.title,i=v.description,o=v.due_date,s={title:r,description:i,due_date:o,image:a},!e){t.next=33;break}if(t.t0=S.Z,t.t1=(0,S.Z)((0,S.Z)({},x),s),t.t2={},t.t3=a,t.t3){t.next=11;break}return t.next=10,x.image;case 10:t.t3=t.sent;case 11:return t.t4=t.t3,t.t5={image:t.t4},c=(0,t.t0)(t.t1,t.t2,t.t5),t.next=16,De({icon:"warning",title:"\xbfEstas segura/o?",cancelText:"Cancelar"});case 16:if(!t.sent.isConfirmed){t.next=31;break}return l(!0),t.next=21,Tn.h.put("/projects/".concat(e),c);case 21:if(!t.sent.data.success){t.next=29;break}return l(!1),t.next=26,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 26:n(h),t.next=31;break;case 29:return t.next=31,De({icon:"error",title:"Ha ocurrido un error"});case 31:t.next=53;break;case 33:return console.log("body: ",s),console.log("imagen",s.image),t.next=37,De({icon:"warning",title:"\xbfSegura/o?",cancelText:"Cancelar"});case 37:if(!t.sent.isConfirmed){t.next=53;break}return l(!0),t.next=42,Tn.h.post("/projects",s);case 42:if(d=t.sent,console.log(d),!d.data.success){t.next=51;break}return l(!1),t.next=48,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 48:n(h),t.next=53;break;case 51:return t.next=53,De({icon:"error",title:"Ha ocurrido un error"});case 53:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){return w.Ry().shape({title:w.Z_().required(C.K.title.required),description:w.Z_().required(C.K.description.required),image:w.nK().test("format",C.K.image.format,(function(n){return e?n:n&&On.includes(n.type)})).test("fileSize",C.K.image.fieldSize,(function(n){return e?n:n&&n.size<=I.aF})).required(C.K.image.required),due_date:w.Z_().required(C.K.due_date.required)})}(e),b=(0,k.TA)({initialValues:{title:"",description:"",image:"",due_date:""},onSubmit:p,validationSchema:g}),v=b.values,T=b.errors,N=b.handleBlur,F=b.handleSubmit,D=b.handleChange,A=b.touched,B=b.setFieldValue;return(0,E.useEffect)((function(){Object.keys(x).length>0&&(B("title",x.title),B("description",x.description),B("image",x.image),B("due_date",x.due_date))}),[x,B]),{values:v,errors:T,handleBlur:N,handleSubmit:F,handleChange:D,touched:A,project:x,loading:c,formik:b,setImageBase64:i,id:e,setFieldValue:B}},_n=function(){var e=Un(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.loading,s=e.project,c=e.formik,u=e.values,f=e.setImageBase64,h=e.setFieldValue,p=(0,d.UO)().id;return(0,W.jsxs)("div",{className:"container my-5",children:[(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE})}),(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(q.c,{title:p?"Edita el Proyecto":"Crea el proyecto",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"d-block h-auto"})}),(0,W.jsxs)(m.Z,{className:"my-5",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicName",children:(0,W.jsxs)(Dn,{children:[(0,W.jsx)(X,{title:"Nombre del proyecto:"}),(0,W.jsx)(x.M,{type:"text",name:"title",value:u.title,onChange:a,onBlur:t,placeholder:"Titulo"}),n.title&&i.title&&(0,W.jsx)(Bn,{children:n.title})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicDescription",children:(0,W.jsxs)(Dn,{children:[(0,W.jsx)(X,{title:"Descripcion del proyecto:"}),(0,W.jsx)(J,{setFieldValue:h,errors:n,touched:i,name:"description",placeholder:"Descripcion",data:s.description})]})}),(0,W.jsxs)(m.Z.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,W.jsx)(X,{title:"Imagen del proyecto:"}),(0,W.jsx)(M.t,{errors:n,touched:i,name:"image",setFieldValue:c.setFieldValue,setImageToSend:f,imageIsEdit:s.image})]}),(0,W.jsx)(m.Z.Group,{className:"mb-5",controlId:"formBasicDate",children:(0,W.jsxs)(Dn,{children:[(0,W.jsx)(X,{title:"Selecciona la fecha de expiraci\xf3n:"}),(0,W.jsx)(x.M,{type:"date",name:"due_date",value:u.due_date,onChange:a,onBlur:t,placeholder:"Ingresa la fecha de expiracion"}),n.due_date&&i.due_date&&(0,W.jsx)(Bn,{children:n.due_date})]})}),(0,W.jsx)("div",{className:"mb-5 d-grid gap-2 d-md-block mx-auto",children:(0,W.jsx)(An,{className:"mt-2 col-sm-5 col-md-2 mx-2",disabled:o,background:"success",color:"success",type:"submit",children:"Confirmar"})})]})]})},Kn=function(e){var n=e.formik,t=n.values,r=n.handleChange,a=n.handleBlur,i=n.errors,o=n.touched,s=e.schemas,c=s.type,l=s.name,d=s.placeholder,u=e.disabled,m=void 0!==u&&u,f=e.as,h=void 0===f?"":f,p=e.inputClass,g=void 0===p?"":p,b=e.height,v=void 0===b?"auto":b;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(x.M,{className:g,type:c,as:h,name:l,value:t[l],onChange:r,onBlur:a,placeholder:d,disabled:m,height:v}),(0,W.jsx)(G.v,{errors:i,touched:o,name:l})]})},Ln=t(362),Rn=t(9053),qn=h.ZP.div($e||($e=(0,f.Z)(["\n  margin: 1rem 0px;\n  padding: 5px 2px;\n  border: 1px solid ",";\n  border-radius: 8px;\n  ","\n\n  ","\n"])),re.l.grayBorder,te.Tf,Ln.J),Mn=function(e){var n=e.children,t=e.formik;return(0,W.jsx)(W.Fragment,{children:n.map((function(e,n){return(0,W.jsxs)(qn,{className:"col col-12 p-2 d-flex flex-column flex-sm-row align-items-start",children:[(0,W.jsx)(Rn.X,{formik:t,schemas:e.schemas,setImageToSend:e.setImageToSend,imageIsEdit:e.imageIsEdit,wrapInputClass:"col col-11 d-flex flex-column",wrapAllFormImageField:"d-flex flex-column col col-12 col-sm-8"}),(0,W.jsx)("div",{className:"col col-12 col-sm-4",children:(0,W.jsx)(Kn,{as:"textarea",formik:t,schemas:e.schemaText,inputClass:"form-control w-100 ",height:"171px"})})]},n)}))})},zn=t(4942),Pn={loadingSubmit:!1,firstImageToSend:"",secondImageToSend:"",thirdImageToSend:"",firstImageToEdit:"",secondImageToEdit:"",thirdImageToEdit:""},Vn={LOADING:"LOADING",IMAGE_TO_SEND:"IMAGE_TO_SEND",IMAGE_TO_EDIT:"IMAGE_TO_EDIT",RESET_NOTIFICATION:"RESET_NOTIFICATION",RESETSTATE:"RESETSTATE"};function Hn(e,n){switch(n.type){case Vn.LOADING:return(0,S.Z)((0,S.Z)({},e),{},{loadingSubmit:!0});case Vn.RESET_LOADING:return(0,S.Z)((0,S.Z)({},e),{},{loadingSubmit:!1});case Vn.IMAGE_TO_SEND:return en=n.payload.whatIs,(0,S.Z)((0,S.Z)({},e),{},(0,zn.Z)({},en,n.payload.value));case Vn.IMAGE_TO_EDIT:return en=n.payload.whatIs,(0,S.Z)((0,S.Z)({},e),{},(0,zn.Z)({},en,{image:n.payload.image}));case Vn.RESETSTATE:return(0,S.Z)({},Pn);default:return e}}var Gn,Wn,Jn="Texto de bienvenida MOCKEADO",Yn={first:"http://ongapi.alkemy.org/storage/omJKqKsIP1.jpeg",second:"http://ongapi.alkemy.org/storage/4xnSJYLQJY.png",third:"http://ongapi.alkemy.org/storage/KLY1cL8ZdG.png"},Xn=function(){var e=(0,E.useReducer)(Hn,Pn),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.d)();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:console.log("onSubmit",o.values),console.log("image to send and image to edit",{homeState:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=w.Ry().shape({welcomeText:w.Z_().min(20,C.K.welcomeText.fieldLength).required(C.K.welcomeText.required),firstImage:w.nK().nullable().test("format",C.K.image.format,(function(e){return!e||I.zb.includes(e.type)})).test("fileSize",C.K.image.fieldSize,(function(e){return!e||e.size<=I.aF})),secondImage:w.nK().nullable().test("format",C.K.image.format,(function(e){return!e||I.zb.includes(e.type)})).test("fileSize",C.K.image.fieldSize,(function(e){return!e||e.size<=I.aF})),thirdImage:w.nK().nullable().test("format",C.K.image.format,(function(e){return!e||I.zb.includes(e.type)})).test("fileSize",C.K.image.fieldSize,(function(e){return!e||e.size<=I.aF}))}),o=(0,k.TA)({initialValues:{welcomeText:"",firstImage:"",firstText:"",secondImage:"",secondText:"",thirdImage:"",thirdText:""},validationSchema:i,onSubmit:a}),s=o.handleSubmit,c=o.setFieldValue;return(0,E.useEffect)((function(){r({type:Vn.IMAGE_TO_EDIT,payload:{whatIs:"firstImageToEdit",image:Yn.first}}),r({type:Vn.IMAGE_TO_EDIT,payload:{whatIs:"secondImageToEdit",image:Yn.second}}),r({type:Vn.IMAGE_TO_EDIT,payload:{whatIs:"thirdImageToEdit",image:Yn.third}}),c("welcomeText",Jn)}),[c]),{handleSubmit:s,formik:o,handleFirstImageToSend:function(e){return r({type:Vn.IMAGE_TO_SEND,payload:{whatIs:"firstImageToSend",value:e}})},homeState:t,handleSecondImageToSend:function(e){return r({type:Vn.IMAGE_TO_SEND,payload:{whatIs:"secondImageToSend",value:e}})},handleThirdImageToSend:function(e){return r({type:Vn.IMAGE_TO_SEND,payload:{whatIs:"thirdImageToSend",value:e}})}}},Qn="text",$n="Agrega un texto",et={welcomeText:{type:Qn,name:"welcomeText",placeholder:"Texto de Bienvenida"},firstImage:{name:"firstImage"},secondImage:{name:"secondImage"},thirdImage:{name:"thirdImage"},firstText:{name:"firstText",type:Qn,placeholder:$n},secondText:{name:"secondText",type:Qn,placeholder:$n},thirdText:{name:"thirdText",type:Qn,placeholder:$n},editBtn:{type:"submit",text:"Editar",style:"yellow"}},nt=function(){var e=Xn(),n=e.handleSubmit,t=e.formik,r=e.handleFirstImageToSend,a=e.homeState,i=e.handleSecondImageToSend,o=e.handleThirdImageToSend;return(0,W.jsxs)(Ln.r,{className:"my-3",children:[(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+"dashboard"}),(0,W.jsxs)(m.Z,{className:"my-3",onSubmit:n,children:[(0,W.jsx)(m.Z.Group,{className:"my-3",children:(0,W.jsx)(Kn,{formik:t,schemas:et.welcomeText})}),(0,W.jsx)(m.Z.Group,{className:"col col-12 d-flex flex-wrap justify-content-center",children:(0,W.jsx)(Mn,{formik:t,children:[{schemas:et.firstImage,setImageToSend:r,imageIsEdit:a.firstImageToEdit,schemaText:et.firstText},{schemas:et.secondImage,setImageToSend:i,imageIsEdit:a.secondImageToEdit,schemaText:et.secondText},{schemas:et.thirdImage,setImageToSend:o,imageIsEdit:a.thirdImageToEdit,schemaText:et.thirdText}]})}),(0,W.jsx)("div",{className:"d-flex justify-content-center",children:(0,W.jsx)(oe.o,{type:et.editBtn.type,buttonClass:"col col-10 col-sm-5",color:et.editBtn.style,background:et.editBtn.style,text:et.editBtn.text})})]})]})},tt=t(8491),rt=t(2398).getIndexSlide,at="Editar Orden de Slides",it=function(e){return"Slide ".concat(e," seleccionado.")},ot=" Selecciona el slide con el que quieras cambiar el orden.",st="Slides",ct=function(e,n,t){return' El slide "'.concat(e,'" pasar\xe1 a estar en la posici\xf3n: "\n    ').concat(rt(n,t)+1,'"')},lt={name:{type:"text",name:"name",placeholder:"Titulo de Slide"},order:{type:"number",name:"order",placeholder:"N\xfamero de Orden"},ckEditor:{name:"description"},image:{name:"image"}},dt={confirm:{text:"Confirmar",paint:"success"},edit:{text:"Editar",paint:"yellow"}},ut={confirm:"Crear Slide",edit:"Editar Slide"},mt="Sin slides para mostrar",xt="Est\xe1s por eliminar: ",ft="Eliminaci\xf3n exitosa",ht=["#","T\xedtulo","Imagen","Orden","Acciones"],pt={name:"name",image:"image",order:"order"},gt=function(e){var n=e.onSearchSlides,t=e.disabled,r=(0,E.useState)(""),a=(0,y.Z)(r,2),i=a[0],o=a[1];return(0,W.jsx)(me.M,{searchText:i,placeholder:"Buscar slides...",onChangeText:function(e){o(e)},onSearch:function(){n(i)},disabled:t})},bt=function(){var e=function(){var e=(0,d.s0)(),n=(0,fe.v9)((function(e){return e.slides})),t=n.loadSlides,r=n.slides,a=n.slidesToRender,i=n.error,o=n.successRequest,s=(0,fe.I0)(),c=(0,E.useState)(""),u=(0,y.Z)(c,2),m=u[0],x=u[1],f=(0,E.useState)(void 0),h=(0,y.Z)(f,2),p=h[0],g=h[1],b=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n,t){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s((0,tt.pI)()),e.next=4,(0,U.d)(xt+t);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,_.Z.deleted(he.S.slides,n);case 9:if((r=e.sent)&&r.success){e.next=12;break}throw new Error(r.message);case 12:(0,O.w)("top-end","success",ft),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("error",e.t0.message),(0,O.w)("top-end","error",ve.x.problemExistTryLater+" "+ve.x.contactAdmin);case 19:return e.prev=19,v(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,15,19,22]])})));return function(n,t){return e.apply(this,arguments)}}();function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,yn.b)(e),t=n?"".concat(he.S.slides,"?").concat(n):he.S.slides;s((0,tt.VU)(t))}return(0,E.useEffect)((function(){i?((0,O.w)("top-end","error",ve.x.problemExistTryLater+" "+ve.x.contactAdmin),s((0,tt.MR)())):o&&s((0,tt.MR)()),g(void 0)}),[i,o,s]),(0,E.useEffect)((function(){s((0,tt.pI)()),v()}),[]),{loadSlides:t,slides:r,slidesToRender:a,searchCondition:m,searchLoading:p,handleEdit:function(n){e("/"+l.x.BACKOFFICE+l.x.SLIDESEDIT+n)},handleDelete:b,searchSlidesHandler:function(e){var n={};e.length>=3||""===e?(n.search=e,v(n),x("")):e.length>0&&e.length<3&&(x("Debes ingresar al menos 3 caracteres"),g(!0))}}}(),n=e.loadSlides,t=e.slides,r=e.slidesToRender,a=e.searchCondition,i=e.searchLoading,o=e.handleEdit,s=e.handleDelete,c=e.searchSlidesHandler;return(0,W.jsxs)("div",{children:[(0,W.jsx)("div",{className:"mt-2 d-flex col col-12",children:(0,W.jsx)(q.c,{title:"Slides"})}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-3 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2",text:"Crear Slide",to:"/"+l.x.BACKOFFICE+l.x.SLIDESCREATE,color:"success",background:"success",icon:$.Ug})]}),(0,W.jsxs)("div",{className:" my-4",children:[(0,W.jsx)(gt,{onSearchSlides:c,disabled:!(null!==t&&void 0!==t&&t.length)}),a&&(0,W.jsx)(te.FQ,{className:"text-danger my-2",children:a})]}),(0,W.jsx)(ue,{tHead:ht,tBody:r,myTableData:pt,handleEdit:o,handleDelete:s,loading:i||n}),!n&&!i&&!(null!==r&&void 0!==r&&r.length)&&(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:mt})})]})},vt=t(9140),jt=t(1398),St=t(1078),Zt=t(2097),yt=(0,h.ZP)(vt.Z)(Gn||(Gn=(0,f.Z)(["\n  border: 3px solid ",";\n  filter: drop-shadow(0px -5px 5px ",");\n  background: ",";\n  color: ",";\n  transition: 0.5s;\n  ","\n\n  &:hover {\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1);\n    filter: drop-shadow(0px 6px 6px ",");\n    background: hsla(194, 74%, 41%, 1);\n    border: 3px solid hsla(194, 74%, 41%, 1);\n  }\n"])),Zt.F.betweenBlueGreed,Zt.F.veryDarkBlue,Zt.F.betweenBlueGreed,re.l.white,Ln.J,Zt.F.veryDarkBlue),kt=h.ZP.div(Wn||(Wn=(0,f.Z)(["\n  ","\n  color: ",";\n  text-align: center;\n"])),te.d0,re.l.white),Et=function(e){var n=e.item;return(0,W.jsxs)(yt,{className:"col col-11",children:[(0,W.jsx)(vt.Z.Header,{children:(0,W.jsx)(kt,{children:n.text})}),(0,W.jsxs)(jt.Z,{variant:"flush",children:[(0,W.jsx)(jt.Z.Item,{children:(0,W.jsx)(te.dK,{image:n.icon,height:"104px",backgroundSize:"contain"})}),(0,W.jsx)(jt.Z.Item,{className:"d-flex justify-content-center py-3",children:(0,W.jsx)(St.C,{wrapLink:"col col-8 col-sm-10",linkClass:"btn w-100",color:"success",background:"success",text:"Ver",icon:"\ud83d\udc40",to:n.to})})]})]})};var wt=t.p+"static/media/actvityIcon.92865c1fcb14cb58782f00a5c685003a.svg";var Ct=t.p+"static/media/categoryIcon.4f8ad06f3e3b01b013200999a4daad11.svg";var It=t.p+"static/media/membersIcon.0c9d542fd054fadf14e8b05ac5010d3d.svg";var Tt=t.p+"static/media/testimonialsIcon.61622b0e98735b847aec37e62ca6f6ce.svg";var Nt=t.p+"static/media/usersIcon.312e408915e0a09149078f7028a66104.svg";var Ft=t.p+"static/media/slideIcon.c4df5b957efad485ad83aa7f9aa036af.svg";var Dt=t.p+"static/media/newsIcon.6adbea42901e46b8b250dfdddfcaa386.svg";var At,Bt,Ot,Ut,_t,Kt,Lt,Rt=t.p+"static/media/organizationIcon.c7f8663536ef3d313495cf97c13b6433.svg",qt=[{text:"Actividades",icon:wt,to:"/".concat(l.x.BACKOFFICE).concat(l.x.ACTIVITIES)},{text:"Categorias",icon:Ct,to:"/".concat(l.x.BACKOFFICE).concat(l.x.CATEGORIES)},{text:"Miembros",icon:It,to:"/".concat(l.x.BACKOFFICE).concat(l.x.MEMBERSLIST)},{text:"Novedades",icon:Dt,to:"/".concat(l.x.BACKOFFICE).concat(l.x.NEWSLIST)},{text:"Organizaci\xf3n",icon:Rt,to:"/".concat(l.x.BACKOFFICE).concat(l.x.ORGANIZATIONDATA)},{text:"Slides",icon:Ft,to:"/".concat(l.x.BACKOFFICE).concat(l.x.SLIDES)},{text:"Testimonios",icon:Tt,to:"/".concat(l.x.BACKOFFICE).concat(l.x.TESTIMONIALS)},{text:"Usuarios",icon:Nt,to:"/".concat(l.x.BACKOFFICE).concat(l.x.USERS)}];function Mt(){return(0,W.jsxs)(Ln.r,{className:"mt-3 mt-sm-2 mb-3",children:[(0,W.jsx)("div",{className:"d-flex col col-12",children:(0,W.jsx)(q.c,{title:"Dashboard",wrapTitleClass:"h-auto"})}),(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center flex-wrap",children:qt.map((function(e){return(0,W.jsx)("div",{className:"col col-12 col-sm-4 col-lg-3 d-flex justify-content-center my-3",children:(0,W.jsx)(Et,{item:e})},e.text)}))})]})}var zt=h.ZP.div(At||(At=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 3rem 0;\n  gap: 1.2rem;\n"]))),Pt=h.ZP.div(Bt||(Bt=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  gap: 1rem;\n  background-color: #c0c0c021;\n  padding: 1rem;\n  @media screen and (min-width: 600px) {\n    padding: 1.8rem;\n  }\n"]))),Vt=h.ZP.div(Ot||(Ot=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),Ht=h.ZP.img(Ut||(Ut=(0,f.Z)(["\n  width: 120px;\n  height: 100px;\n  border-radius: 10px;\n  box-shadow: 0 0 12px #c0c0c0;\n  @media screen and (min-width: 375px) {\n    width: 230px;\n    height: 170px;\n  }\n  @media screen and (min-width: 600px) {\n    width: 330px;\n    height: 220px;\n  }\n  @media screen and (min-width: 920px) {\n    width: 400px;\n    height: 260px;\n  }\n"]))),Gt=h.ZP.div(_t||(_t=(0,f.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  margin-bottom: 1rem;\n  gap: 1rem;\n"]))),Wt=h.ZP.p(Kt||(Kt=(0,f.Z)(["\n  font-size: 0.7rem;\n  @media screen and (min-width: 375px) {\n    font-size: 0.9rem;\n  }\n  @media screen and (min-width: 600px) {\n    font-size: 1rem;\n  }\n  @media screen and (min-width: 920px) {\n    font-size: 1.2rem;\n  }\n"]))),Jt=(0,h.ZP)(p.zx)(Lt||(Lt=(0,f.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n"])),re.l.yellow,re.l.yellow,re.l.black,re.l.yellow,re.l.yellow),Yt=t(2692);function Xt(){var e=(0,d.s0)(),n=(0,E.useState)(!1),t=(0,y.Z)(n,2),r=t[0],a=t[1],i=(0,E.useState)({name:"",image:"",shortDescription:""}),o=(0,y.Z)(i,2),s=o[0],c=o[1];return(0,E.useEffect)((function(){a(!0),Yt.Z.get(he.S.organization).then((function(e){if(e.success){var n=e.data;c({name:n.name,image:n.logo,shortDescription:n.short_description})}else(0,O.w)("center","error","Ha ocurrido un error")})).catch((function(){return(0,O.w)("center","error","Ha ocurrido un error")})).finally((function(){return a(!1)}))}),[]),(0,W.jsxs)(zt,{children:[(0,W.jsxs)(Gt,{children:[(0,W.jsx)(Y.i,{text:"Ir a Dashboard",wrapLink:"col-12 col-sm-4 col-md-5 col-lg-3",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Jt,{className:"col-12 col-sm-4 col-lg-3",onClick:function(){e("edit")},children:"Editar Informaci\xf3n"})]}),(0,W.jsx)("h3",{children:"Datos de la Organizaci\xf3n:"}),(0,W.jsx)(Pt,{children:r?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12}),(0,W.jsx)(H.g,{xs:12})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(q.c,{wrapTextClass:"text-center",title:s.name?s.name:"Sin titulo",height:"none"}),(0,W.jsx)(Vt,{children:(0,W.jsx)(Ht,{src:s.image,alt:s.name?s.name:"Sin logo"})}),(0,W.jsx)(Wt,{dangerouslySetInnerHTML:{__html:s.shortDescription?s.shortDescription:"Sin descripci\xf3n"}})]})})]})}var Qt,$t,er,nr,tr,rr,ar,ir,or,sr,cr,lr,dr=t(1321),ur=function(e){return{id:e.id||"",name:e.name,description:e.description,image:e.image,order:e.order,user_id:e.user_id,created_at:e.created_at||"",updated_at:e.updated_at||"",deleted_at:e.deleted_at||"",group_id:e.group_id||""}},mr=t(2398),xr=function(e){var n=he.S.slides,t=(0,E.useState)(!1),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)(!0),s=(0,y.Z)(o,2),c=s[0],u=s[1],m=function(e){var n=e.setInitialValues,t=e.idSlide,r=e.restURL,a=(0,E.useState)([]),i=(0,y.Z)(a,2),o=i[0],s=i[1],c=(0,E.useState)({}),l=(0,y.Z)(c,2),d=l[0],u=l[1],m=(0,E.useState)({}),x=(0,y.Z)(m,2),f=x[0],h=x[1];return(0,E.useEffect)((function(){var e=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n,a,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r+"/"+t,e.next=4,_.Z.get(n);case 4:if(!(a=e.sent)||a.success){e.next=7;break}throw new Error(a.message);case 7:i=ur(a.data),h(i),u({name:a.data.name,description:a.data.description,order:a.data.order,image:a.data.image}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("error SlidesForm - fetchAllSlides",e.t0.message),(0,O.w)("top-end","error",ve.x.problemExistTryLater+" "+ve.x.contactAdmin);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();t&&e()}),[t,n]),{orderSlide:o,setOrderSlide:s,dataSliceToEdit:f,initialEditValues:d}}({idSlide:e,restURL:n}),x=m.orderSlide,f=m.setOrderSlide,h=m.initialEditValues,p=m.dataSliceToEdit,g=(0,E.useState)(0),b=(0,y.Z)(g,2),v=b[0],T=b[1],F=(0,E.useState)(dr.y7),D=(0,y.Z)(F,2),A=D[0],B=D[1],K=(0,E.useState)(""),L=(0,y.Z)(K,2),R=L[0],q=L[1],M=(0,d.s0)(),z=(0,E.useState)(!1),P=(0,y.Z)(z,2),V=P[0],H=P[1],G=function(e,n,t){return w.Ry().shape({name:w.Z_().min(4,C.K.name.fieldLength).required(C.K.name.required),description:w.Z_().required(C.K.description.required),order:w.Rx().when([],{is:function(){return!e},then:w.Rx().positive().min(n,C.K.order.fieldLength+n).test("dontEdit",C.K.order.dontEdit,(function(e){return!1})).required(C.K.order.required),otherwise:w.Rx().min(n,C.K.order.fieldLength+n).notRequired()}),image:w.nK().nullable().required(C.K.image.required).test("format",C.K.image.format,(function(e){return t&&e&&"string"===typeof e?e:e&&I.zb.includes(e.type)})).test("fileSize",C.K.image.fieldSize,(function(e){return t&&e&&"string"===typeof e?e:e&&e.size<=I.aF}))})}(true,A,e),W=(0,k.TA)({initialValues:{name:"",description:"",order:0,image:""},validationSchema:G,onSubmit:function(){return Q.apply(this,arguments)}}),J=W.setFieldValue,Y=function(e){return q(e)},X=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,a,i,o,s,c,l,d,u,m,f;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(v>0)){t.next=28;break}if(a=x[(0,mr.getIndexSlide)(x,e)].order,i=x[(0,mr.getIndexSlide)(x,v)].order,o=[x[(0,mr.getIndexSlide)(x,e)],x[(0,mr.getIndexSlide)(x,v)]],t.t0=R,t.t0){t.next=9;break}return t.next=8,(0,N.p)(W.values.image);case 8:t.t0=t.sent;case 9:return s=t.t0,t.next=12,(0,N.p)(o[1].image);case 12:if(c=t.sent,!s||!c||s&&c){t.next=15;break}throw new Error(ve.x.problemExistTryLater);case 15:return l=(0,S.Z)((0,S.Z)((0,S.Z)({},p),W.values),{},{image:s,order:i}),d=(0,S.Z)((0,S.Z)({},o[1]),{},{image:c,order:a}),t.next=19,Promise.all([_.Z.put(n,e,l),_.Z.put(n,d.id,d)]);case 19:if(u=t.sent,-1===(m=u.findIndex((function(e){return!e.success})))){t.next=25;break}throw new Error(u[m].message);case 25:r=u[0];case 26:t.next=44;break;case 28:if(t.t1=S.Z,t.t2=(0,S.Z)((0,S.Z)({},p),W.values),t.t3={},t.t4=R,t.t4){t.next=36;break}return t.next=35,(0,N.p)(W.values.image);case 35:t.t4=t.sent;case 36:return t.t5=t.t4,t.t6={image:t.t5},f=(0,t.t1)(t.t2,t.t3,t.t6),t.next=41,_.Z.put(n,e,f);case 41:if((r=t.sent)&&r.success){t.next=44;break}throw new Error(r.message);case 44:return t.abrupt("return",r);case 45:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Q(){return(Q=(0,Z.Z)((0,j.Z)().mark((function t(){var r,a;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,(0,U.d)();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!e){t.next=13;break}return t.next=10,X();case 10:r=t.sent,t.next=19;break;case 13:return a=(0,S.Z)((0,S.Z)({},W.values),{},{image:R}),t.next=16,_.Z.post(n,a);case 16:if((r=t.sent)&&r.success){t.next=19;break}throw new Error(r.message);case 19:(0,O.w)("top-end","success",ve.x.successfullyOperation),Y(""),M("/"+l.x.BACKOFFICE+l.x.SLIDES,{replace:"true"}),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(0),t.t0.message||(0,O.w)("top-end","error",t.t0.message),console.error("error useSlidesForm onSubmit",t.t0.message),(0,O.w)("top-end","error",t.t0.message);case 29:return t.prev=29,i(!1),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[0,24,29,32]])})))).apply(this,arguments)}return(0,E.useEffect)((function(){Object.keys(h).length>0&&(J("name",h.name),J("description",h.description),J("order",h.order),J("image",h.image))}),[h,J]),(0,E.useEffect)((function(){var t=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,a,i,o;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,_.Z.get(n);case 4:if(!(r=t.sent)||r.success){t.next=7;break}throw new Error(r.message);case 7:a=r.data.map((function(e){return ur(e)})),i=(0,dr.Fn)(a),e?f((0,dr.Rf)(i)):(o=(0,dr.gg)(i),B(o),J("order",o)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("error SlidesForm - fetchAllSlides",t.t0.message),(0,O.w)("top-end","error",ve.x.problemExistTryLater+" "+ve.x.contactAdmin);case 16:return t.prev=16,u(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,J,B,f]),{formik:W,orderFieldDisabled:true,loadSubmitSlides:a,handleImageToSend:Y,loadOrderSlides:c,orderSlide:x,dataSliceToEdit:p,showSlideModal:V,handleSlideModal:function(){return H((function(e){return!e}))},setSlideToChangeSelected:T,slideToChangeSelected:v}},fr=h.ZP.div(Qt||(Qt=(0,f.Z)(["\n  ","\n  display: flex;\n  justify-content: space-evenly;\n"])),te.oD),hr=function(e){var n=e.idSlide;return(0,W.jsx)(fr,{children:(0,W.jsx)(oe.o,{type:"submit",buttonClass:"col col-10 col-sm-5 mb-3",color:n?dt.edit.paint:dt.confirm.paint,background:n?dt.edit.paint:dt.confirm.paint,text:n?dt.edit.text:dt.confirm.text})})},pr=t(5316),gr=h.ZP.input($t||($t=(0,f.Z)(["\n  margin-right: 3px;\n  cursor: pointer;\n"]))),br=h.ZP.div(er||(er=(0,f.Z)(["\n  padding: 3px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  transition: 0.5s;\n\n  &:hover {\n    ","\n    outline: 1px solid hsla(187, 97%, 29%, 1);\n  }\n"])),te.Yn),vr=function(e){var n=e.show,t=e.onHide,r=e.idSlide,a=e.orderSlide,i=e.setSlideToChangeSelected,o=e.slideToChangeSelected,s=function(e,n,t,r,a){var i=(0,mr.getIndexSlide)(e,n)+1,o=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,U.d)();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{indexSlide:i,handleChangeRadio:function(e){t(e.target.value)},handleClickChangeSlides:o,handleCancelChangesSlides:function(){t(0),a()}}}(a,r,i,o,t),c=s.indexSlide,l=s.handleChangeRadio,d=s.handleClickChangeSlides,u=s.handleCancelChangesSlides;return(0,W.jsxs)(pr.Z,{show:n,onHide:u,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,W.jsx)(pr.Z.Header,{closeButton:!0,children:(0,W.jsx)(pr.Z.Title,{children:at})}),(0,W.jsxs)(pr.Z.Body,{children:[(0,W.jsx)(te.tt,{children:it(c)}),(0,W.jsx)(te.Dp,{children:ot}),(0,W.jsxs)(te.Dp,{children:[st,":"]}),(0,W.jsx)("div",{className:"d-flex flex-wrap justify-content-evenly",children:null===a||void 0===a?void 0:a.map((function(e,n){return c!==n+1&&(0,W.jsxs)(br,{className:"col col-12 col-sm-4 col-md-3 col-xl-2  my-2",children:[(0,W.jsx)(te.dK,{name:"slides",value:e.id,image:e.image,backgroundSize:"cover",height:"150px",width:"90%"}),(0,W.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,W.jsx)(gr,{type:"radio",id:"slides",name:"slides",value:e.id,onChange:l}),(0,W.jsxs)("label",{className:"form-check-label",htmlFor:"slides",children:["Slide: ",n+1]})]})]},n)}))})]}),(0,W.jsxs)(pr.Z.Footer,{className:"d-flex justify-content-between",children:[(0,W.jsx)("div",{className:"col col-6",children:o>0&&(0,W.jsx)("div",{className:"d-flex",children:(0,W.jsx)("p",{className:"text-center",children:ct(c,a,o)})})}),(0,W.jsxs)("div",{className:"col col-5 d-flex justify-content-evenly",children:[(0,W.jsx)(oe.o,{buttonClass:"col col-5",text:"Confirmar",color:"success",background:"success",onClick:d,disabled:!o}),(0,W.jsx)(oe.o,{buttonClass:"col col-5",text:"Cancelar",onClick:u})]})]})]})},jr=function(e){var n=e.formik,t=n.values,r=n.errors,a=n.touched,i=e.schemas.name,o=e.disabled,s=void 0!==o&&o,c=e.slideToChangeSelected,l=e.orderSlide,d=e.idSlide,u=e.onClick,m=c>0?"Se cambiar\xe1 con el slide ".concat((0,mr.getIndexSlide)(l,c)+1):"Orden: ".concat(t.order," - Editar ");return(0,W.jsxs)(W.Fragment,{children:[d?(0,W.jsx)(oe.o,{buttonClass:"col col-12 p-2",onClick:u,background:"yellow",color:"yellow",text:m}):(0,W.jsx)(Kn,{formik:e.formik,schemas:e.schemas,disabled:s}),(0,W.jsx)(G.v,{errors:r,touched:a,name:i})]})},Sr=function(e){var n=e.formik,t=e.schemas,r=t.name,a=t.order,i=e.disabled,o=void 0!==i&&i,s=e.slideToChangeSelected,c=e.orderSlide,l=e.idSlide,d=e.load,u=e.onClick,m=(0,W.jsx)(H.g,{placeClass:"col col-12  w-100 h-100",spanClass:"h-100 w-100",height:"41px"});return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"col col-12 col-sm-5 ",children:d?m:(0,W.jsx)(Kn,{formik:n,schemas:r})}),(0,W.jsx)("div",{className:"col col-12 col-sm-5 mt-4 mt-sm-0   ",children:d?m:(0,W.jsx)(jr,{formik:n,schemas:a,disabled:o,idSlide:l,orderSlide:c,onClick:u,slideToChangeSelected:s})})]})},Zr=function(e){var n=e.formik,t=n.errors,r=n.touched,a=n.setFieldValue,i=n.values,o=e.schemas.name,s=e.load;return(0,W.jsx)(J,{setFieldValue:a,errors:t,touched:r,name:o,data:i.description,load:s})},yr=function(e){var n=e.idSlide,t=xr(n),r=t.formik.handleSubmit,a=t.formik,i=t.orderFieldDisabled,o=t.loadSubmitSlides,s=t.handleImageToSend,c=t.loadOrderSlides,l=t.orderSlide,d=t.dataSliceToEdit,u=t.showSlideModal,x=t.handleSlideModal,f=t.setSlideToChangeSelected,h=t.slideToChangeSelected;return(0,W.jsxs)(W.Fragment,{children:[o&&(0,W.jsx)("div",{children:(0,W.jsx)(kn.L,{})}),(0,W.jsxs)(m.Z,{className:"form-container col col-12 col-sm-10 mt-3 mb-4 p-0 p-sm-1",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"col col-12 d-flex flex-wrap justify-content-between mt-2 mb-3",children:(0,W.jsx)(Sr,{formik:a,schemas:lt,load:c,disabled:i,onClick:x,idSlide:n,orderSlide:l,slideToChangeSelected:h})}),(0,W.jsx)(m.Z.Group,{className:"col col-12 mb-3",children:(0,W.jsx)(Zr,{formik:a,schemas:lt.ckEditor,load:c})}),(0,W.jsx)(m.Z.Group,{className:"col col-12 d-flex flex-column align-items-center mb-3",children:(0,W.jsx)(Rn.X,{formik:a,schemas:lt.image,setImageToSend:s,imageIsEdit:d,loading:c})}),c?(0,W.jsx)(H.g,{placeClass:"placeClass col col-12 d-flex justify-content-center w-100 h-100 mb-3",spanClass:"spanClass h-100 w-50",height:"28px"}):(0,W.jsx)(hr,{idSlide:n})]}),(0,W.jsx)(vr,{show:u,onHide:x,idSlide:n,orderSlide:l,setSlideToChangeSelected:f,slideToChangeSelected:h})]})},kr=function(){var e=(0,d.UO)().id;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:" my-3 d-flex col col-12",children:(0,W.jsx)(q.c,{title:e?ut.edit:ut.confirm})}),(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-start",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+l.x.SLIDES})}),(0,W.jsx)(yr,{idSlide:e})]})},Er=((0,h.ZP)(x.M)(nr||(nr=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"]))),h.ZP.div(tr||(tr=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"])))),wr=(0,h.ZP)(p.zx)(rr||(rr=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"]))),Cr=h.ZP.span(ar||(ar=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"]))),Ir=["image/png","image/jpg","image/jpeg"],Tr="Se produjo un error al obtener el testimonio",Nr="Se produjo un error al crear el testimonio",Fr="Se produjo un error al editar el testimonio",Dr=function(){var e=(0,d.UO)().id,n=(0,d.s0)(),t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)(!1),s=(0,y.Z)(o,2),c=s[0],l=s[1],u=(0,E.useState)({name:"",description:"",image:""}),m=(0,y.Z)(u,2),x=m[0],f=m[1];(0,E.useEffect)((function(){e&&Tn.h.get("/testimonials/".concat(e)).then((function(e){var n=e.data.data;f({name:n.name,description:n.description,image:n.image})})).catch((function(){(0,O.w)("center","error","".concat(Tr))}))}),[e]);var h="/backoffice",p=function(){var t=(0,Z.Z)((0,j.Z)().mark((function t(){var r,i,o,s;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.name,i=v.description,o={name:r,description:i,image:a},!e){t.next=32;break}if(t.t0=S.Z,t.t1=(0,S.Z)((0,S.Z)({},x),o),t.t2={},t.t3=a,t.t3){t.next=11;break}return t.next=10,(0,N.p)(x.image);case 10:t.t3=t.sent;case 11:return t.t4=t.t3,t.t5={image:t.t4},s=(0,t.t0)(t.t1,t.t2,t.t5),t.next=16,De({icon:"warning",title:"\xbfEstas segura/o de enviarlo?",cancelText:"Cancelar"});case 16:if(!t.sent.isConfirmed){t.next=30;break}return l(!0),t.next=21,Tn.h.put("/testimonials/".concat(e),s);case 21:if(!t.sent.data.success){t.next=29;break}return l(!1),t.next=26,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 26:n(h),t.next=30;break;case 29:(0,O.w)("center","error","".concat(Fr));case 30:t.next=48;break;case 32:return t.next=34,De({icon:"warning",title:"\xbfEstas segura/o de enviarlo?",cancelText:"Cancelar"});case 34:if(!t.sent.isConfirmed){t.next=48;break}return l(!0),t.next=39,Tn.h.post("/testimonials",o);case 39:if(!t.sent.data.success){t.next=47;break}return l(!1),t.next=44,De({icon:"success",title:"Operaci\xf3n \xe9xitosa"});case 44:n(h),t.next=48;break;case 47:(0,O.w)("center","error","".concat(Nr));case 48:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){return w.Ry().shape({name:w.Z_().min(4,C.K.name.fieldLength).required(C.K.name.required),description:w.Z_().required(C.K.description.required),image:w.nK().test("format",C.K.image.format,(function(n){return e?n:n&&Ir.includes(n.type)})).test("fileSize",C.K.image.fieldSize,(function(n){return e?n:n&&n.size<=I.aF})).required(C.K.image.required)})}(e),b=(0,k.TA)({initialValues:{name:"",description:"",image:""},onSubmit:p,validationSchema:g}),v=b.values,T=b.errors,F=b.handleBlur,D=b.handleSubmit,A=b.handleChange,B=b.touched,U=b.setFieldValue;(0,E.useEffect)((function(){Object.keys(x).length>0&&(U("name",x.name),U("image",x.image),U("description",x.description))}),[x,U]);return{values:v,errors:T,handleBlur:F,handleSubmit:D,handleChange:A,touched:B,testimonial:x,loading:c,formik:b,cancel:function(){n(h)},setImageBase64:i,setFieldValue:U}},Ar=function(){var e=Dr(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.testimonial,s=e.loading,c=e.formik,u=e.values,f=e.setImageBase64,h=e.setFieldValue,p=(0,d.UO)().id;return(0,W.jsxs)("div",{className:"container my-5",children:[(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(q.c,{title:p?"Edita  testimonio":"Crea  testimonio",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"d-block h-auto"})}),(0,W.jsx)("div",{className:"my-5",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE})}),(0,W.jsxs)(m.Z,{className:"my-5 col-sm-10 col-lg-6 mx-auto",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicName",children:(0,W.jsxs)(Er,{children:[(0,W.jsx)(X,{title:"Nombre del testimonio:"}),(0,W.jsx)(x.M,{type:"text",name:"name",value:u.name,onChange:a,onBlur:t,placeholder:"Nombre"}),n.name&&i.name&&(0,W.jsx)(Cr,{children:n.name})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicDescription",children:(0,W.jsxs)(Er,{children:[(0,W.jsx)(X,{title:"Descripci\xf3n del testimonio:"}),(0,W.jsx)(J,{setFieldValue:h,errors:n,touched:i,name:"description",placeholder:"Descripci\xf3n del testimonio",data:o.description})]})}),(0,W.jsxs)(m.Z.Group,{className:"mb-5",controlId:"formBasicImage",children:[(0,W.jsx)(X,{title:"Imagen del testimonio:"}),(0,W.jsx)(M.t,{errors:n,touched:i,name:"image",setFieldValue:c.setFieldValue,setImageToSend:f,imageIsEdit:o.image})]}),(0,W.jsx)("div",{className:"my-5 d-flex justify-content-center",children:(0,W.jsx)(wr,{className:"col-7 col-lg-8 py-2 px-3 mx-auto",disabled:s,background:"success",color:"success",type:"submit",children:"Confirmar"})})]})]})};function Br(){var e,n=function(){var e=(0,E.useState)([]),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,E.useState)(!0),i=(0,y.Z)(a,2),o=i[0],s=i[1],c=(0,E.useState)(!1),l=(0,y.Z)(c,2),u=l[0],m=l[1],x=(0,d.s0)();function f(e){return e.replace(/(<([^>]+)>)/gi,"")}var h=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n,t,a,i,o,c=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,s(!0),t=(0,yn.b)(n),a="".concat(he.S.testimonial,"?").concat(t),e.next=7,_.Z.get(a);case 7:if(!(i=e.sent)||i.success){e.next=10;break}throw new Error(i.message);case 10:o=i.data.map((function(e){return{id:e.id,name:e.name,description:f(e.description)}})),r(o),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("error testimonios",e.t0.message),(0,O.w)("top-end","error","".concat(ve.x.problemExistTryLater," ").concat(ve.x.contactAdmin));case 18:return e.prev=18,s(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.find((function(e){return n===e.id})))){e.next=12;break}return e.next=4,(0,U.d)('\xbfEstas segura/o que deseas eliminar "'.concat(r.name,'"?'));case 4:if(!e.sent){e.next=11;break}return m(!0),e.next=9,_.Z.deleted(he.S.testimonial,n);case 9:e.sent.success?((0,O.w)("center","success","Operaci\xf3n \xe9xitosa"),h()):(0,O.w)("center","error","Ha ocurrido un error");case 11:m(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){h()}),[]),{loadingTestimonials:o,testimonialsData:t,fetchTestimonials:h,tHead:["#","Nombre","Descripci\xf3n","Acciones"],myTableData:{name:"name",description:"description"},toEdit:function(e){x("edit/".concat(e))},handleDelete:p,loading:u}}(),t=n.loadingTestimonials,r=n.testimonialsData,a=n.handleDelete,i=n.toEdit,o=n.tHead,s=n.myTableData,c=n.loading;return e=t||c?(0,W.jsx)(ue,{loading:t||c,tHead:o,myTableData:s,tBody:r,handleDelete:a,handleEdit:i}):(0,W.jsx)(ue,{tHead:o,myTableData:s,tBody:r,handleDelete:a,handleEdit:i}),(0,W.jsxs)("div",{children:[(0,W.jsx)("div",{className:"m-1 d-flex col col-12",children:(0,W.jsx)(q.c,{title:"Testimonios",height:"none"})}),(0,W.jsxs)("div",{className:"mb-4 mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 col-md-4 col-lg-3 my-2",text:"Crear Categor\xeda",to:"create",color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)("div",{children:e})]})}(0,h.ZP)(x.M)(ir||(ir=(0,f.Z)(["\n  border-radius: 6px;\n  padding: 10px;\n  resize: none;\n  min-height: 200px;\n"])));var Or,Ur,_r=h.ZP.div(or||(or=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 1rem;\n"]))),Kr=((0,h.ZP)(p.zx)(sr||(sr=(0,f.Z)(["\n  border: 1px solid #0038ff;\n  &:hover {\n    background-color: #f5f5f5 !important;\n    color: #0038ff !important;\n  }\n"]))),h.ZP.span(cr||(cr=(0,f.Z)(["\n  color: red;\n  font-size: 15px;\n  padding-left: 10px;\n"])))),Lr=(0,h.ZP)(m.Z.Select)(lr||(lr=(0,f.Z)(["\n  ","\n  background-color: ",";\n  color: ","!important;\n  border: 1px solid ",";\n  border-radius: 8px;\n  padding: 10px;\n  transition: 0.5s;\n  height: ",";\n\n  ",";\n\n  ",";\n\n  ::placeholder,\n  ::-webkit-input-placeholder {\n    color: ","!important;\n  }\n  :-ms-input-placeholder {\n    color: ","!important;\n  }\n"])),te.oD,re.l.white,re.l.black,re.l.black,(function(e){return e.height}),te.Tf,Ln.J,re.l.grayBorder,re.l.grayBorder),Rr=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,qr=function(){var e=(0,d.UO)().userId,n=(0,d.s0)(),t=(0,E.useState)(""),r=(0,y.Z)(t,2),a=r[0],i=r[1],o=(0,E.useState)([]),s=(0,y.Z)(o,2),c=s[0],u=s[1],m=(0,E.useState)(!1),x=(0,y.Z)(m,2),f=x[0],h=x[1],p=(0,E.useState)({name:"",email:"",role_id:"",profile_image:"",password:""}),g=(0,y.Z)(p,2),b=g[0],v=g[1];(0,E.useEffect)((function(){e&&_.Z.get("".concat(he.S.users,"/").concat(e)).then((function(e){var n=e.data;v({name:n.name,email:n.email,role_id:n.role_id,profile_image:n.profile_image,password:n.password})})).catch((function(){(0,O.w)("center","error","Ha ocurrido un error")}))}),[e]),(0,E.useEffect)((function(){_.Z.get(he.S.role).then((function(e){var n=e.data.map((function(e){return{id:e.id,name:e.name}}));u(n)}))}),[]);var T=function(e){return w.Ry().shape({name:w.Z_().min(4,C.K.name.fieldLength).required(C.K.name.required),email:w.Z_().matches(Rr,C.K.email.format).required(C.K.email.required),role_id:w.Z_().required(C.K.role_id.required),password:w.Z_().min(6,C.K.password.fieldLength).required(C.K.password.required),profile_image:w.nK().nullable().required(C.K.image.required).test("format",C.K.image.format,(function(n){return e&&n&&"string"===typeof n?n:n&&I.zb.includes(n.type)})).test("fileSize",C.K.image.fieldSize,(function(n){return e&&n&&"string"===typeof n?n:n&&n.size<=I.aF}))})}(e),N=(0,k.TA)({initialValues:{name:"",email:"",role_id:"",profile_image:"",password:""},onSubmit:function(){return F.apply(this,arguments)},validationSchema:T});function F(){return(F=(0,Z.Z)((0,j.Z)().mark((function t(){var r,i,o,s,c,d,u,m,x;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),r=e?"Deseas editar este usuario?":"Deseas crear este usuario?",t.next=5,(0,U.d)(r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:if(o=D.name,s=D.email,c=D.role_id,d=D.password,u={name:o,email:s,role_id:c,password:d,image:a},!e){t.next=27;break}if(t.t0=S.Z,t.t1=(0,S.Z)((0,S.Z)({},b),u),t.t2={},t.t3=a,t.t3){t.next=19;break}return t.next=18,b.image;case 18:t.t3=t.sent;case 19:return t.t4=t.t3,t.t5={image:t.t4},m=(0,t.t0)(t.t1,t.t2,t.t5),t.next=24,_.Z.put(he.S.users,e,m);case 24:i=t.sent,t.next=30;break;case 27:return t.next=29,_.Z.post(he.S.users,u);case 29:i=t.sent;case 30:if(i.success){t.next=32;break}throw new Error(i.message);case 32:h(!1),x=e?"Usuario editado correctamente":"Usuario creado correctamente",(0,O.w)("top-end","success",x),n("/"+l.x.BACKOFFICE+l.x.USERS,{replace:"true"}),t.next=42;break;case 38:t.prev=38,t.t6=t.catch(0),console.error("error",t.t6.message),(0,O.w)("top-end","error",t.t6.message);case 42:return t.prev=42,h(!1),t.finish(42);case 45:case"end":return t.stop()}}),t,null,[[0,38,42,45]])})))).apply(this,arguments)}var D=N.values,A=N.errors,B=N.handleBlur,K=N.handleSubmit,L=N.handleChange,R=N.touched,q=N.setFieldValue;return(0,E.useEffect)((function(){Object.keys(b).length>0&&(q("name",b.name),q("email",b.email),q("role_id",b.role_id),q("profile_image",b.profile_image),q("password",b.password))}),[b,q]),{userId:e,values:D,errors:A,handleBlur:B,handleSubmit:K,handleChange:L,touched:R,user:b,loading:f,formik:N,setImageBase64:i,setFieldValue:q,roles:c}},Mr=function(){var e=qr(),n=e.errors,t=e.handleBlur,r=e.handleSubmit,a=e.handleChange,i=e.touched,o=e.user,s=e.loading,c=e.formik,d=e.values,u=e.setImageBase64,f=e.roles,h=e.userId;return(0,W.jsxs)("div",{className:"container my-5",children:[(0,W.jsx)("div",{children:(0,W.jsx)(q.c,{title:h?"Editar usuario":"Crear usuario",justify:"center",wrapTextClass:"text-center",wrapTitleClass:"h-auto"})}),(0,W.jsx)("div",{className:"my-3",children:(0,W.jsx)(Y.i,{wrapLink:"my-4",to:"/"+l.x.BACKOFFICE+l.x.USERS})}),s&&(0,W.jsx)(kn.L,{}),(0,W.jsxs)(m.Z,{className:"my-3 col-sm-10 col-lg-6 mx-auto",onSubmit:r,children:[(0,W.jsx)(m.Z.Group,{className:"mb-3",children:(0,W.jsxs)(_r,{children:[(0,W.jsx)(X,{title:"Nombre del usuario:"}),(0,W.jsx)(x.M,{type:"text",name:"name",value:d.name,onChange:a,onBlur:t,placeholder:"Nombre"}),n.name&&i.name&&(0,W.jsx)(Kr,{children:n.name})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicRoleId",children:(0,W.jsxs)(_r,{children:[(0,W.jsx)(X,{title:"Rol del usuario:"}),(0,W.jsxs)(Lr,{"aria-label":"Seleccionar un rol",name:"role_id",onChange:a,onBlur:t,children:[(0,W.jsx)("option",{value:"",children:"Selecciona un rol"}),f.map((function(e){return(0,W.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),n.role_id&&i.role_id&&(0,W.jsx)(Kr,{children:n.role_id})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:(0,W.jsxs)(_r,{children:[(0,W.jsx)(X,{title:"Email del usuario:"}),(0,W.jsx)(x.M,{type:"text",name:"email",value:d.email,onChange:a,onBlur:t,placeholder:"Email"}),n.email&&i.email&&(0,W.jsx)(Kr,{children:n.email})]})}),(0,W.jsx)(m.Z.Group,{className:"mb-3",children:(0,W.jsxs)(_r,{children:[(0,W.jsx)(X,{title:"Constrase\xf1a:"}),(0,W.jsx)(x.M,{type:"password",name:"password",value:d.password,onChange:a,onBlur:t,placeholder:"Password"}),n.password&&i.password&&(0,W.jsx)(Kr,{children:n.password})]})}),(0,W.jsxs)(m.Z.Group,{className:"mb-4",controlId:"formBasicImage",children:[(0,W.jsx)(X,{title:"Imagen del usuario:"}),(0,W.jsx)(Rn.X,{formik:c,setImageToSend:u,imageIsEdit:o.profile_image,schemas:{name:"profile_image"}})]}),(0,W.jsx)("div",{className:"my-3 d-flex justify-content-center",children:(0,W.jsx)(oe.o,{type:"submit",buttonClass:"col col-10 col-sm-8",color:h?"yellow":"success",background:h?"yellow":"success",text:h?"Editar":"Confirmar"})})]})]})},zr=(0,h.ZP)(m.Z.Select)(Or||(Or=(0,f.Z)(["\n  ","\n"])),te.oD),Pr=h.ZP.option(Ur||(Ur=(0,f.Z)(["\n  ","\n"])),te.oD),Vr=function(e){var n=e.roles,t=void 0===n?[]:n,r=e.onChangeRoles;return(0,W.jsxs)(zr,{onChange:function(e){r(e.target.value)},children:[(0,W.jsx)(Pr,{value:"",children:"Todos"}),t.map((function(e){return(0,W.jsx)(Pr,{value:e.id,children:e.name},e.id)}))]})},Hr=t(2931),Gr=function(){var e=(0,E.useState)(!0),n=(0,y.Z)(e,2),t=n[0],r=n[1],a=(0,E.useState)([]),i=(0,y.Z)(a,2),o=i[0],s=i[1],c=(0,E.useState)(""),u=(0,y.Z)(c,2),m=u[0],x=u[1],f=(0,E.useState)(""),h=(0,y.Z)(f,2),p=h[0],g=h[1],b=(0,fe.I0)(),v=(0,fe.v9)((function(e){return e.users})),S=(0,d.s0)(),k=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n,t,a,i,o,s,c=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:"";try{r(!0),i=""!==t?"role="+t:"",o="",""!==(a=""!==n?"search="+n:"")&&""!==i&&(o=a+"&"+i),""!==a&&""===i&&(o=a),""===a&&""!==i&&(o=i),s="".concat(he.S.users,"?limit=20&").concat(o),b((0,Hr.R)(s))}catch(l){console.error("error Users",l.message),(0,O.w)("center","error","".concat(ve.x.problemExistTryLater," ").concat(ve.x.contactAdmin))}finally{r(!1)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(){var n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get(he.S.role);case 2:(n=e.sent).success?s(n.data):(0,O.w)("center","error","No se encontraron roles");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,E.useEffect)((function(){k(p,m),w()}),[p,m]);var C=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length>=2&&g(n),0===n.length&&g("");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){var t,a;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=v.users.find((function(e){return n===e.id})))){e.next=15;break}return e.next=5,(0,U.d)('\xbfEstas segura/o que deseas eliminar "'.concat(t.name,'"?'));case 5:if(!e.sent){e.next=15;break}return r(!0),e.next=10,_.Z.deleted(he.S.users,n);case 10:if((a=e.sent)&&a.success){e.next=13;break}throw new Error(a.message);case 13:(0,O.w)("center","success","Usuario eliminado"),k(p,m);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("error",e.t0.message),(0,O.w)("top-end","error","No se elimin\xf3 el usuario");case 21:return e.prev=21,r(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})));return function(n){return e.apply(this,arguments)}}();return{users:v,loadingUsers:t,roles:o,rol:m,searchUser:p,setSearchUser:g,tHead:["#","Nombre","Email","Acciones"],myTableData:{name:"name",email:"email"},setLoadingUsers:r,selectRolHandler:I,searchUsersHandler:C,deleteHandler:T,editHandler:function(e){S("/".concat(l.x.BACKOFFICE).concat(l.x.USERSEDIT,"/").concat(e))}}},Wr=function(e){var n=e.onSearchUsers,t=e.selectRol,r=Gr(),a=r.roles,i=r.searchUser,o=r.setSearchUser;return(0,W.jsxs)("div",{className:"my-3 d-flex gap-3 flex-column flex-sm-row",children:[(0,W.jsx)("div",{className:"flex-fill",children:(0,W.jsx)(me.M,{searchText:i,placeholder:"Buscar usuario...",onChangeText:function(e){o(e)},onSearch:function(){n(i)}})}),(0,W.jsx)("div",{children:(0,W.jsx)(Vr,{onChangeRoles:function(e){t(e)},roles:a})})]})},Jr=function(){var e,n=Gr(),t=n.users,r=n.editHandler,a=n.selectRolHandler,i=n.searchUsersHandler,o=n.deleteHandler,s=n.tHead,c=n.myTableData;return e="error"===t.status?(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Ha ocurrido un error al mostrar los usuarios"})}):t.users.length?(0,W.jsx)(ue,{tHead:s,tBody:t.users,myTableData:c,handleEdit:r,handleDelete:o,loading:"success"!==t.status}):(0,W.jsx)("div",{className:"col col-12 d-flex justify-content-center",children:(0,W.jsx)(ee.Z,{alertClass:"col col-10",text:"Sin usuarios para mostrar"})}),(0,W.jsxs)("div",{children:[(0,W.jsx)("div",{className:"mt-2 d-flex col col-12",children:(0,W.jsx)(q.c,{title:"Usuarios"})}),(0,W.jsxs)("div",{className:"mt-5 d-flex flex-wrap justify-content-center justify-content-sm-between",children:[(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-3 my-2 me-1",text:"Ir dashboard",to:"/"+l.x.BACKOFFICE}),(0,W.jsx)(Y.i,{wrapLink:"col col-10 col-sm-5 my-2",text:"Crear Usuario",to:"/"+l.x.BACKOFFICE+l.x.USERSCREATE,color:"success",background:"success",icon:$.Ug})]}),(0,W.jsx)("div",{className:"my-3",children:(0,W.jsx)(Wr,{onSearchUsers:i,selectRol:a,disabled:"error"===t.status})}),(0,W.jsx)("div",{children:e})]})},Yr=function(){return(0,W.jsxs)(u.F,{children:[(0,W.jsx)(d.AW,{path:"/",element:(0,W.jsx)(Mt,{})}),(0,W.jsx)(d.AW,{path:l.x.BACKHOME,element:(0,W.jsx)(nt,{})}),(0,W.jsx)(d.AW,{path:l.x.ACTIVITIES,element:(0,W.jsx)(ge,{})}),(0,W.jsx)(d.AW,{path:l.x.ACTIVITIESCREATE,element:(0,W.jsx)(Q,{})}),(0,W.jsx)(d.AW,{path:l.x.ACTIVITIESEDITSWITHID,element:(0,W.jsx)(Q,{})}),(0,W.jsx)(d.AW,{path:l.x.CATEGORIES,element:(0,W.jsx)(Ze,{})}),(0,W.jsx)(d.AW,{path:l.x.CATEGORIESCREATE,element:(0,W.jsx)(be.default,{})}),(0,W.jsx)(d.AW,{path:l.x.CATEGORIESEDITWITHID,element:(0,W.jsx)(be.default,{})}),(0,W.jsx)(d.AW,{path:l.x.CREATEPROJECT,element:(0,W.jsx)(_n,{})}),(0,W.jsx)(d.AW,{path:l.x.EDITCATEGORY,element:(0,W.jsx)(be.default,{})}),(0,W.jsx)(d.AW,{path:l.x.EDITPROJECT,element:(0,W.jsx)(_n,{})}),(0,W.jsx)(d.AW,{path:l.x.EDITORGANIZATIONFORM,element:(0,W.jsx)(rn,{})}),(0,W.jsx)(d.AW,{path:l.x.NEWSCREATEFORM,element:(0,W.jsx)(Fn,{})}),(0,W.jsx)(d.AW,{path:l.x.NEWSEDITFORM,element:(0,W.jsx)(Fn,{})}),(0,W.jsx)(d.AW,{path:l.x.NEWSEDITFORMWITHID,element:(0,W.jsx)(Fn,{})}),(0,W.jsx)(d.AW,{path:l.x.NEWSFORM,element:(0,W.jsx)(Fn,{})}),(0,W.jsx)(d.AW,{path:l.x.NEWSLIST,element:(0,W.jsx)(En,{})}),(0,W.jsx)(d.AW,{path:l.x.MEMBERSLIST,element:(0,W.jsx)(fn,{})}),(0,W.jsx)(d.AW,{path:l.x.MEMBERSCREATEFORM,element:(0,W.jsx)(un,{})}),(0,W.jsx)(d.AW,{path:l.x.MEMBERSEDITFORMWITHID,element:(0,W.jsx)(un,{})}),(0,W.jsx)(d.AW,{path:l.x.ORGANIZATIONDATA,element:(0,W.jsx)(Xt,{})}),(0,W.jsx)(d.AW,{path:l.x.SLIDES,element:(0,W.jsx)(bt,{})}),(0,W.jsx)(d.AW,{path:l.x.SLIDESCREATE,element:(0,W.jsx)(kr,{})}),(0,W.jsx)(d.AW,{path:l.x.SLIDESEDITWITHID,element:(0,W.jsx)(kr,{})}),(0,W.jsx)(d.AW,{path:l.x.TESTIMONIALS,element:(0,W.jsx)(Br,{})}),(0,W.jsx)(d.AW,{path:l.x.TESTIMONIALSFORM,element:(0,W.jsx)(Ar,{})}),(0,W.jsx)(d.AW,{path:l.x.TESTIMONIALSEDITFORM,element:(0,W.jsx)(Ar,{})}),(0,W.jsx)(d.AW,{path:l.x.USERS,element:(0,W.jsx)(Jr,{})}),(0,W.jsx)(d.AW,{path:l.x.USERSCREATE,element:(0,W.jsx)(Mr,{})}),(0,W.jsx)(d.AW,{path:l.x.USERSEDITWITHID,element:(0,W.jsx)(Mr,{})})]})}},2398:function(e,n,t){t.r(n),t.d(n,{getIndexSlide:function(){return r}});var r=function(e,n){return null===e||void 0===e?void 0:e.findIndex((function(e){return e.id===parseInt(n)}))}}}]);
//# sourceMappingURL=749.d715c07f.chunk.js.map